<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sean Vieau">
<meta name="dcterms.date" content="2024-10-30">

<title>Predictive Modelling – Sean Vieau Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="../../../site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="../../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">



</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Sean Vieau Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-advanced-data-analyses-(rsas" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Advanced Data Analyses (R/SAS)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-advanced-data-analyses-(rsas">    
        <li>
    <a class="dropdown-item" href="../../../Project_1_Regression/Project_1_Regression_R/Project_1_Regression.html">
 <span class="dropdown-text">Regression (R)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../Project_1_Regression/Project_1_Regression_SAS/Project_1_Regression_SAS.html">
 <span class="dropdown-text">Regression (SAS)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../Project_2/Project_2_R/Code/Project2.html">
 <span class="dropdown-text">MLR With Confounding and Interaction (R)</span></a>
  </li>  
        <li class="dropdown-header">MLR With Confounding and Interaction (SAS)</li>
        <li>
    <a class="dropdown-item" href="../../../Project_2/Project_2_R/Code/Project2LMM.html">
 <span class="dropdown-text">Linear Mixed Model (R)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../Data_Wrangling/Treadmill_Data_Cleaning/Code/Automated_Treadmill_Data_Cleaning.html"> 
<span class="menu-text">Data Wrangling (Python)</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data-management-(sas" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Data Management (SAS)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data-management-(sas">    
        <li>
    <a class="dropdown-item" href="../../../Data_Management_(SAS)/Project_1/Project_1_Importing.html">
 <span class="dropdown-text">Project 1 - Importing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../Data_Management_(SAS)/Project_3/Project3.html">
 <span class="dropdown-text">Project 3 - Data Set Creation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../Resume/Publications_and_Presentations.html"> 
<span class="menu-text">Publications/Presentations</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#clinical-hypotheses" id="toc-clinical-hypotheses" class="nav-link" data-scroll-target="#clinical-hypotheses">Clinical Hypotheses</a></li>
  </ul></li>
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">Background</a>
  <ul class="collapse">
  <li><a href="#gabor-transform" id="toc-gabor-transform" class="nav-link" data-scroll-target="#gabor-transform">Gabor Transform</a></li>
  <li><a href="#gray-level-co-occurrence-matrix" id="toc-gray-level-co-occurrence-matrix" class="nav-link" data-scroll-target="#gray-level-co-occurrence-matrix">Gray Level Co-Occurrence Matrix</a></li>
  <li><a href="#local-binary-pattern" id="toc-local-binary-pattern" class="nav-link" data-scroll-target="#local-binary-pattern">Local Binary Pattern</a></li>
  </ul></li>
  <li><a href="#method" id="toc-method" class="nav-link" data-scroll-target="#method">Method</a>
  <ul class="collapse">
  <li><a href="#study-design" id="toc-study-design" class="nav-link" data-scroll-target="#study-design">Study Design</a>
  <ul class="collapse">
  <li><a href="#statistical-hypotheses" id="toc-statistical-hypotheses" class="nav-link" data-scroll-target="#statistical-hypotheses">Statistical Hypotheses</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">Data Preparation</a></li>
  <li><a href="#missingness" id="toc-missingness" class="nav-link" data-scroll-target="#missingness">Missingness</a></li>
  <li><a href="#data-split" id="toc-data-split" class="nav-link" data-scroll-target="#data-split">Data Split</a></li>
  <li><a href="#data-examination" id="toc-data-examination" class="nav-link" data-scroll-target="#data-examination">Data Examination</a>
  <ul class="collapse">
  <li><a href="#univariate-distributions" id="toc-univariate-distributions" class="nav-link" data-scroll-target="#univariate-distributions">Univariate Distributions</a>
  <ul class="collapse">
  <li><a href="#Outcomes_Uni" id="toc-Outcomes_Uni" class="nav-link" data-scroll-target="#Outcomes_Uni">Outcome Variables</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#Features_Uni" id="toc-Features_Uni" class="nav-link" data-scroll-target="#Features_Uni">Feature Engineering</a></li>
  <li><a href="#correlation-matrices" id="toc-correlation-matrices" class="nav-link" data-scroll-target="#correlation-matrices">Correlation Matrices</a>
  <ul class="collapse">
  <li><a href="#matrix-one" id="toc-matrix-one" class="nav-link" data-scroll-target="#matrix-one">Matrix One</a></li>
  </ul></li>
  <li><a href="#bivariate-comparisons" id="toc-bivariate-comparisons" class="nav-link" data-scroll-target="#bivariate-comparisons">Bivariate Comparisons</a>
  <ul class="collapse">
  <li><a href="#gabor-transform-1" id="toc-gabor-transform-1" class="nav-link" data-scroll-target="#gabor-transform-1">Gabor Transform</a></li>
  <li><a href="#geom" id="toc-geom" class="nav-link" data-scroll-target="#geom">Geom</a></li>
  <li><a href="#txti-1" id="toc-txti-1" class="nav-link" data-scroll-target="#txti-1">Txti</a></li>
  <li><a href="#lbp-1" id="toc-lbp-1" class="nav-link" data-scroll-target="#lbp-1">LBP</a></li>
  </ul></li>
  <li><a href="#feature-scaling" id="toc-feature-scaling" class="nav-link" data-scroll-target="#feature-scaling">Feature Scaling</a></li>
  <li><a href="#to-do" id="toc-to-do" class="nav-link" data-scroll-target="#to-do">To do</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Predictive Modelling</h1>
<p class="subtitle lead">Advanced Data Analysis - Project 3</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sean Vieau </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 30, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The aim of the current study is to investigate whether MRI image features extracted from baseline kidney images can enhance the prediction of disease progression in young Autosomal Dominant Polycystic Kidney Disease (ADPKD) patients. This study is important because recent literature has demonstrated the inclusion of MRI image features improves the prognostic accuracy of models in adults, but this has not yet been demonstrated in children. Improving prediction models could greatly assist in diagnosing and predicting kidney disease outcomes in children, which is more challenging than in adults and could lead to improved treatment.</p>
<div style="text-align: center;">
<p><img src="../../../Project_3_Predictive_Modelling/Project_3_R/Media/Project_Description.png" style="width:80%;"></p>
</div>
<section id="task-one" class="level4">
<h4 class="anchored" data-anchor-id="task-one">Task One</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\Project_3_Predictive_Modelling/Project_3_R/Media/Task_One.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</section>
<section id="task-two" class="level4">
<h4 class="anchored" data-anchor-id="task-two">Task Two</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\Project_3_Predictive_Modelling/Project_3_R/Media/Task_Two.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</section>
<section id="clinical-hypotheses" class="level3">
<h3 class="anchored" data-anchor-id="clinical-hypotheses">Clinical Hypotheses</h3>
<p>The two clinical hypotheses for this study are that including MRI image features will improve model performance compared to using baseline kidney volume alone in models predicting</p>
<ol type="1">
<li><p>Percentage change of total kidney volume growth</p></li>
<li><p>Classification of a patient as having fast or slow progression of the disease.</p></li>
</ol>
</section>
</section>
<section id="background" class="level1">
<h1>Background</h1>
<p>Here we will review background information on the methodology and variables provided in this data set.</p>
<section id="gabor-transform" class="level2">
<h2 class="anchored" data-anchor-id="gabor-transform">Gabor Transform</h2>
<section id="what-is-it" class="level4">
<h4 class="anchored" data-anchor-id="what-is-it">What is it</h4>
<p>The Gabor Transform, named after Dennis Gabor, is a powerful technique for analyzing the <u><strong>texture</strong></u> of MRI images. By convolving the image with a Gabor filter, it becomes possible to discriminate between features based on intensity differences. This allows the target region and background to be differentiated if they possess distinct features, as they will exhibit different intensity levels. Moreover, the Gabor Transform has tunable parameters, such as the frequency of the sinusoidal wave, which can be adjusted to extract specific textures from the images. Higher frequencies are ideal for capturing fine textures, while lower frequencies are better suited for coarse textures.</p>
</section>
<section id="how-it-works" class="level4">
<h4 class="anchored" data-anchor-id="how-it-works">How it Works</h4>
<p>The Gabor Filter first applies a Gaussian Envelope to focus on a small region of the image. It then applies a sinusoidal wave that oscillates at a specific frequency and captures the variation in intensities at that frequency and orientation within that region.</p>
</section>
<section id="example-of-gabor-transform" class="level4">
<h4 class="anchored" data-anchor-id="example-of-gabor-transform">Example of Gabor Transform</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-573562689.png" class="img-fluid figure-img"></p>
<figcaption>Example of applying a Gaussian, then Gabor, and Laplacian Filter (GGL) for differentiation between two different textures (+’s vs L’s) (<a href="https://link.springer.com/article/10.1007/BF00204594">2</a>).</figcaption>
</figure>
</div>
</section>
<section id="image-features-provided-by-the-gabor-transform" class="level4">
<h4 class="anchored" data-anchor-id="image-features-provided-by-the-gabor-transform">Image Features Provided by the Gabor Transform</h4>
<p>In general, Gabor functions can easily extract features of:</p>
<ul>
<li><p>Spatial Frequency (e.g.&nbsp;how often pixel intensity changes in a given area)</p></li>
<li><p>Density (e.g.&nbsp;concentration of features within a certain area)</p></li>
<li><p>Orientation (e.g.&nbsp;Textures or edges at 0°, 45°, 90°, 135°)</p></li>
<li><p>Phase (e.g.&nbsp;alignment/distance of features)</p></li>
<li><p>Energy (e.g.&nbsp;overall intensity)</p></li>
</ul>
<p>Sources: <a href="https://link.springer.com/article/10.1007/s11042-020-09635-6">1</a>, <a href="https://link.springer.com/article/10.1007/BF00204594">2</a></p>
</section>
</section>
<section id="gray-level-co-occurrence-matrix" class="level2">
<h2 class="anchored" data-anchor-id="gray-level-co-occurrence-matrix">Gray Level Co-Occurrence Matrix</h2>
<section id="what-is-it-1" class="level4">
<h4 class="anchored" data-anchor-id="what-is-it-1">What is it</h4>
<p>The Gray Level Co-Occurrence Matrix (GLCM) is another powerful tool for extracting <strong>texture</strong> features from an MRI image. GLCM works under the assumption that the textural information in an image is contained in the “average” spatial relationship that the gray tones in the image have to each other. For example, when a small patch of the picture has little variation of features, the dominant property is tone; When a small patch of a picture has high variation, the dominant property is texture (<a href="https://ieeexplore.ieee.org/document/4309314">3</a>).</p>
</section>
<section id="how-it-works-1" class="level4">
<h4 class="anchored" data-anchor-id="how-it-works-1">How it Works</h4>
<p>GLCM examines the spatial relationship between pairs of pixels in an image and calculates how often pairs of pixel values occur at a specified distance and orientation. It does this by computing a set of gray-tone spacial-dependence matrices for various angular relationships and distances between neighboring resolution cell pairs on the image (<a href="https://ieeexplore.ieee.org/document/4309314">3</a>).</p>
</section>
<section id="example-of-glcm" class="level4">
<h4 class="anchored" data-anchor-id="example-of-glcm">Example of GLCM</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-759848695.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Example of textural features extracted from two different land-use category images (<a href="https://ieeexplore.ieee.org/document/4309314">3</a>).</figcaption>
</figure>
</div>
</section>
<section id="image-features-provided-by-glcm" class="level4">
<h4 class="anchored" data-anchor-id="image-features-provided-by-glcm">Image Features Provided by GLCM</h4>
<p>In general, GLCM provides information on the following features:</p>
<ul>
<li><p>Homogeneity</p></li>
<li><p>Linear Structure</p></li>
<li><p>Contrast</p></li>
<li><p>Number and Nature of Boundaries</p></li>
<li><p>Complexity of the Image</p></li>
</ul>
</section>
</section>
<section id="local-binary-pattern" class="level2">
<h2 class="anchored" data-anchor-id="local-binary-pattern">Local Binary Pattern</h2>
<section id="what-is-it-2" class="level4">
<h4 class="anchored" data-anchor-id="what-is-it-2">What is it</h4>
<p>The Local Binary Pattern (LBP) is a third powerful method for extracting <u><strong>texture</strong></u> features from an image. An important and fundamental property of texture is how uniform the patterns are, and LBP captures this by detecting these uniform patterns in circular neighborhoods at any rotation and spatial resolution. LBP is rotation invariant, meaning it does not matter what rotation the image is at; it will always extract very similar features) (<a href="https://ieeexplore.ieee.org/document/1017623">4</a>).</p>
</section>
<section id="how-it-works-2" class="level4">
<h4 class="anchored" data-anchor-id="how-it-works-2">How it Works</h4>
<p>LBP works by comparing the intensity of a central pixel with its neighboring pixels and encoding this relationship into a binary pattern. For each neighbor, if it’s intensity is greater or equal to the central pixel, it gets assigned a 1 (otherwise a 0). The binary values of all neighbors are then concatenated to form a binary number, and this number is converted into a decimal that represent the LBP for the central pixel (<a href="https://ieeexplore.ieee.org/document/1017623">4</a>).</p>
</section>
<section id="example-of-lbp" class="level4">
<h4 class="anchored" data-anchor-id="example-of-lbp">Example of LBP</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3679699747.png" class="img-fluid figure-img"></p>
<figcaption>Example of the 36 unique comparisons that can be made between neighboring pixels (<a href="https://ieeexplore.ieee.org/document/1017623">4</a>).</figcaption>
</figure>
</div>
</section>
<section id="code-information" class="level4">
<h4 class="anchored" data-anchor-id="code-information">Code Information</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../../..\Project_3_Predictive_Modelling/Project_3_R/Media/Code_Information.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</section>
<section id="image-features-provided-by-the-lbp" class="level4">
<h4 class="anchored" data-anchor-id="image-features-provided-by-the-lbp">Image Features Provided by the LBP</h4>
<p>In general, the LBP provides image features on:</p>
<ul>
<li><p>Uniformity</p></li>
<li><p>Local Contrast</p></li>
<li><p>Texture Description</p></li>
<li><p>Spatial Patterns</p></li>
<li><p>Gray Level Distribution</p></li>
</ul>
</section>
</section>
</section>
<section id="method" class="level1">
<h1>Method</h1>
<section id="study-design" class="level2">
<h2 class="anchored" data-anchor-id="study-design">Study Design</h2>
<p>The investigators recruited 71 young patients with ADPKD and collected MRI data at baseline and after 3 years. Additionally, the height corrected kidney volume for each patient was collected at baseline and 3 years by a physician, and the percentage change calculated. Patients were classified as having slow or fast progression of the disease based on this percentage change. Image features were extracted from the baseline MRI images including 2 image features on kidney geometric information, 5 features based on Gabor transform, 2 features based on gray level co-occurrence matrix, 5 features based on image textures, and 5 features based on local binary pattern.</p>
<section id="statistical-hypotheses" class="level3">
<h3 class="anchored" data-anchor-id="statistical-hypotheses">Statistical Hypotheses</h3>
<ol type="1">
<li><p>A <strong>linear regression model</strong> predicting <strong>percentage change of total kidney volume growth</strong> including MRI image features and baseline kidney volume will have better performance than a model with baseline kidney volume alone, as determined by specificity, sensitivity, PPV, &nbsp;NPV, &nbsp;accuracy, and AUC.</p></li>
<li><p>A <strong>logistic regression model</strong> predicting <strong>classification of disease progression as slow or fast</strong> including MRI image features and baseline kidney volume will have better performance than a model with baseline kidney volume alone, as determined by specificity, sensitivity, PPV, &nbsp;NPV, &nbsp;accuracy, and AUC.</p></li>
</ol>
</section>
</section>
</section>
<section id="data-preparation" class="level1">
<h1>Data Preparation</h1>
<section id="load-packages" class="level4">
<h4 class="anchored" data-anchor-id="load-packages">Load Packages</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly) <span class="co"># Used for interactive plots</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co"># Used for pretty printing (kable_styling)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges) <span class="co"># Used for plotting distributions</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar) <span class="co"># Used to visualize missingness</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork) <span class="co"># Used to chain ggplots together</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra) <span class="co"># Used to plot ggplots side by side</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot) <span class="co"># Used for correlation matrix</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret) <span class="co"># Used for K-fold cross validation</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bestNormalize) <span class="co"># Used to find best transformation</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-.csv" class="level4">
<h4 class="anchored" data-anchor-id="read-.csv">Read .CSV</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"C:/Users/sviea/Documents/Portfolio/Project_3_Predictive_Modelling/Project_3_R/Raw_Data/Project3_data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 71 Columns: 24
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
dbl (24): Subject ID, geom1, geom2, gabor1, gabor2, gabor3, gabor4, gabor5, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</section>
<section id="examine-data-set" class="level4">
<h4 class="anchored" data-anchor-id="examine-data-set">Examine Data Set</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine data</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pretty_print</span>(<span class="fu">head</span>(data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Subject ID</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">glcm1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">glcm2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">tkvht_base</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">tkvht_visit2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">progression</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">tkvht_change</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.071923</td>
<td style="text-align: right;">1.149019</td>
<td style="text-align: right;">-0.0292053</td>
<td style="text-align: right;">-0.0798071</td>
<td style="text-align: right;">0.0023308</td>
<td style="text-align: right;">0.0008529</td>
<td style="text-align: right;">0.0063692</td>
<td style="text-align: right;">405.57142</td>
<td style="text-align: right;">164488.179</td>
<td style="text-align: right;">-4.401442</td>
<td style="text-align: right;">-12.085150</td>
<td style="text-align: right;">53.192089</td>
<td style="text-align: right;">19.372693</td>
<td style="text-align: right;">146.050849</td>
<td style="text-align: right;">-0.5211817</td>
<td style="text-align: right;">0.0812259</td>
<td style="text-align: right;">-0.0423335</td>
<td style="text-align: right;">0.2716304</td>
<td style="text-align: right;">0.0065977</td>
<td style="text-align: right;">435</td>
<td style="text-align: right;">585</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11.44</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">54.031476</td>
<td style="text-align: right;">2919.400411</td>
<td style="text-align: right;">-0.0499853</td>
<td style="text-align: right;">-0.1266310</td>
<td style="text-align: right;">0.0063297</td>
<td style="text-align: right;">0.0024985</td>
<td style="text-align: right;">0.0160354</td>
<td style="text-align: right;">-580.93865</td>
<td style="text-align: right;">337489.719</td>
<td style="text-align: right;">3.595325</td>
<td style="text-align: right;">-1.991768</td>
<td style="text-align: right;">-7.161054</td>
<td style="text-align: right;">12.926362</td>
<td style="text-align: right;">3.967141</td>
<td style="text-align: right;">-0.5572404</td>
<td style="text-align: right;">-0.4665611</td>
<td style="text-align: right;">0.2599867</td>
<td style="text-align: right;">0.3105169</td>
<td style="text-align: right;">0.2176792</td>
<td style="text-align: right;">555</td>
<td style="text-align: right;">595</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.42</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">-32.024389</td>
<td style="text-align: right;">1025.561486</td>
<td style="text-align: right;">-0.0152715</td>
<td style="text-align: right;">0.0424398</td>
<td style="text-align: right;">-0.0006481</td>
<td style="text-align: right;">0.0002332</td>
<td style="text-align: right;">0.0018011</td>
<td style="text-align: right;">-1037.25839</td>
<td style="text-align: right;">1075904.968</td>
<td style="text-align: right;">25.367336</td>
<td style="text-align: right;">-5.308749</td>
<td style="text-align: right;">-134.668822</td>
<td style="text-align: right;">643.501717</td>
<td style="text-align: right;">28.182818</td>
<td style="text-align: right;">-0.2515471</td>
<td style="text-align: right;">0.6778935</td>
<td style="text-align: right;">-0.1705221</td>
<td style="text-align: right;">0.0632760</td>
<td style="text-align: right;">0.4595395</td>
<td style="text-align: right;">191</td>
<td style="text-align: right;">249</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10.08</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">-42.832485</td>
<td style="text-align: right;">1834.621814</td>
<td style="text-align: right;">-0.0153948</td>
<td style="text-align: right;">0.0435459</td>
<td style="text-align: right;">-0.0006704</td>
<td style="text-align: right;">0.0002370</td>
<td style="text-align: right;">0.0018962</td>
<td style="text-align: right;">-1018.07892</td>
<td style="text-align: right;">1036484.679</td>
<td style="text-align: right;">25.518531</td>
<td style="text-align: right;">-5.561043</td>
<td style="text-align: right;">-141.909649</td>
<td style="text-align: right;">651.195432</td>
<td style="text-align: right;">30.925199</td>
<td style="text-align: right;">-0.2463696</td>
<td style="text-align: right;">0.6684585</td>
<td style="text-align: right;">-0.1646879</td>
<td style="text-align: right;">0.0606980</td>
<td style="text-align: right;">0.4468368</td>
<td style="text-align: right;">334</td>
<td style="text-align: right;">498</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">16.47</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">-10.637344</td>
<td style="text-align: right;">113.153096</td>
<td style="text-align: right;">0.1630437</td>
<td style="text-align: right;">0.0797533</td>
<td style="text-align: right;">0.0130033</td>
<td style="text-align: right;">0.0265832</td>
<td style="text-align: right;">0.0063606</td>
<td style="text-align: right;">64.64083</td>
<td style="text-align: right;">4178.437</td>
<td style="text-align: right;">2.446875</td>
<td style="text-align: right;">-6.297954</td>
<td style="text-align: right;">-15.410304</td>
<td style="text-align: right;">5.987195</td>
<td style="text-align: right;">39.664227</td>
<td style="text-align: right;">-0.5663138</td>
<td style="text-align: right;">0.2676994</td>
<td style="text-align: right;">-0.1516019</td>
<td style="text-align: right;">0.3207114</td>
<td style="text-align: right;">0.0716630</td>
<td style="text-align: right;">263</td>
<td style="text-align: right;">311</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6.14</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">71.079477</td>
<td style="text-align: right;">5052.292049</td>
<td style="text-align: right;">-0.0824492</td>
<td style="text-align: right;">-0.1101542</td>
<td style="text-align: right;">0.0090821</td>
<td style="text-align: right;">0.0067979</td>
<td style="text-align: right;">0.0121340</td>
<td style="text-align: right;">-1459.90430</td>
<td style="text-align: right;">2131320.550</td>
<td style="text-align: right;">2.432428</td>
<td style="text-align: right;">-6.506258</td>
<td style="text-align: right;">-15.826002</td>
<td style="text-align: right;">5.916703</td>
<td style="text-align: right;">42.331398</td>
<td style="text-align: right;">-1.1999136</td>
<td style="text-align: right;">-0.1108972</td>
<td style="text-align: right;">0.1330671</td>
<td style="text-align: right;">1.4397927</td>
<td style="text-align: right;">0.0122982</td>
<td style="text-align: right;">609</td>
<td style="text-align: right;">793</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10.09</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check data types</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 71
Columns: 24
$ `Subject ID` &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17…
$ geom1        &lt;dbl&gt; 1.071923, 54.031476, -32.024389, -42.832485, -10.637344, …
$ geom2        &lt;dbl&gt; 1.149019, 2919.400411, 1025.561486, 1834.621814, 113.1530…
$ gabor1       &lt;dbl&gt; -0.029205293, -0.049985252, -0.015271484, -0.015394838, 0…
$ gabor2       &lt;dbl&gt; -0.079807149, -0.126631032, 0.042439800, 0.043545875, 0.0…
$ gabor3       &lt;dbl&gt; 0.002330791, 0.006329684, -0.000648119, -0.000670382, 0.0…
$ gabor4       &lt;dbl&gt; 0.000852949, 0.002498525, 0.000233218, 0.000237001, 0.026…
$ gabor5       &lt;dbl&gt; 0.006369181, 0.016035418, 0.001801137, 0.001896243, 0.006…
$ glcm1        &lt;dbl&gt; 405.57142, -580.93865, -1037.25839, -1018.07892, 64.64083…
$ glcm2        &lt;dbl&gt; 164488.179, 337489.719, 1075904.968, 1036484.679, 4178.43…
$ txti1        &lt;dbl&gt; -4.4014422, 3.5953250, 25.3673356, 25.5185311, 2.4468746,…
$ txti2        &lt;dbl&gt; -12.0851499, -1.9917682, -5.3087492, -5.5610430, -6.29795…
$ txti3        &lt;dbl&gt; 53.192089, -7.161054, -134.668822, -141.909649, -15.41030…
$ txti4        &lt;dbl&gt; 19.3726934, 12.9263620, 643.5017174, 651.1954318, 5.98719…
$ txti5        &lt;dbl&gt; 146.0508494, 3.9671407, 28.1828179, 30.9251993, 39.664226…
$ lbp1         &lt;dbl&gt; -0.52118174, -0.55724044, -0.25154711, -0.24636960, -0.56…
$ lbp2         &lt;dbl&gt; 0.08122595, -0.46656106, 0.67789345, 0.66845853, 0.267699…
$ lbp3         &lt;dbl&gt; -0.042333481, 0.259986692, -0.170522142, -0.164687860, -0…
$ lbp4         &lt;dbl&gt; 0.271630410, 0.310516908, 0.063275951, 0.060697979, 0.320…
$ lbp5         &lt;dbl&gt; 0.006597654, 0.217679225, 0.459539531, 0.446836807, 0.071…
$ tkvht_base   &lt;dbl&gt; 435, 555, 191, 334, 263, 609, 149, 580, 338, 288, 281, 57…
$ tkvht_visit2 &lt;dbl&gt; 585, 595, 249, 498, 311, 793, 198, 657, 362, 306, 266, 95…
$ progression  &lt;dbl&gt; 1, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, …
$ tkvht_change &lt;dbl&gt; 11.44, 2.42, 10.08, 16.47, 6.14, 10.09, 10.91, 4.40, 2.30…</code></pre>
</div>
</div>
</section>
<section id="create-factors" class="level4">
<h4 class="anchored" data-anchor-id="create-factors">Create Factors</h4>
<p>Everything is appropriately coded as a double.</p>
<p>Let’s just convert <code>progression</code> into a factor that contains the levels for “slow” or “fast and we’re good to go. We will also rename some variables for convenience.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert progression into a factor</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">progression =</span> <span class="fu">factor</span>(progression,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Slow"</span>, <span class="st">"Fast"</span>)))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename Subject ID and kidney volume variables so they are easier to access</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Subject_ID =</span> <span class="st">`</span><span class="at">Subject ID</span><span class="st">`</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">kidvol_base =</span> tkvht_base,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">kidvol_visit2 =</span> tkvht_visit2,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">kidvol_change =</span> tkvht_change) </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Double check data types</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 71
Columns: 24
$ Subject_ID    &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…
$ geom1         &lt;dbl&gt; 1.071923, 54.031476, -32.024389, -42.832485, -10.637344,…
$ geom2         &lt;dbl&gt; 1.149019, 2919.400411, 1025.561486, 1834.621814, 113.153…
$ gabor1        &lt;dbl&gt; -0.029205293, -0.049985252, -0.015271484, -0.015394838, …
$ gabor2        &lt;dbl&gt; -0.079807149, -0.126631032, 0.042439800, 0.043545875, 0.…
$ gabor3        &lt;dbl&gt; 0.002330791, 0.006329684, -0.000648119, -0.000670382, 0.…
$ gabor4        &lt;dbl&gt; 0.000852949, 0.002498525, 0.000233218, 0.000237001, 0.02…
$ gabor5        &lt;dbl&gt; 0.006369181, 0.016035418, 0.001801137, 0.001896243, 0.00…
$ glcm1         &lt;dbl&gt; 405.57142, -580.93865, -1037.25839, -1018.07892, 64.6408…
$ glcm2         &lt;dbl&gt; 164488.179, 337489.719, 1075904.968, 1036484.679, 4178.4…
$ txti1         &lt;dbl&gt; -4.4014422, 3.5953250, 25.3673356, 25.5185311, 2.4468746…
$ txti2         &lt;dbl&gt; -12.0851499, -1.9917682, -5.3087492, -5.5610430, -6.2979…
$ txti3         &lt;dbl&gt; 53.192089, -7.161054, -134.668822, -141.909649, -15.4103…
$ txti4         &lt;dbl&gt; 19.3726934, 12.9263620, 643.5017174, 651.1954318, 5.9871…
$ txti5         &lt;dbl&gt; 146.0508494, 3.9671407, 28.1828179, 30.9251993, 39.66422…
$ lbp1          &lt;dbl&gt; -0.52118174, -0.55724044, -0.25154711, -0.24636960, -0.5…
$ lbp2          &lt;dbl&gt; 0.08122595, -0.46656106, 0.67789345, 0.66845853, 0.26769…
$ lbp3          &lt;dbl&gt; -0.042333481, 0.259986692, -0.170522142, -0.164687860, -…
$ lbp4          &lt;dbl&gt; 0.271630410, 0.310516908, 0.063275951, 0.060697979, 0.32…
$ lbp5          &lt;dbl&gt; 0.006597654, 0.217679225, 0.459539531, 0.446836807, 0.07…
$ kidvol_base   &lt;dbl&gt; 435, 555, 191, 334, 263, 609, 149, 580, 338, 288, 281, 5…
$ kidvol_visit2 &lt;dbl&gt; 585, 595, 249, 498, 311, 793, 198, 657, 362, 306, 266, 9…
$ progression   &lt;fct&gt; Fast, Slow, Fast, Fast, Slow, Fast, Fast, Slow, Slow, Sl…
$ kidvol_change &lt;dbl&gt; 11.44, 2.42, 10.08, 16.47, 6.14, 10.09, 10.91, 4.40, 2.3…</code></pre>
</div>
</div>
</section>
<section id="summary" class="level4">
<h4 class="anchored" data-anchor-id="summary">Summary</h4>
<p>Our data set consists of:</p>
<ul>
<li>71 patients</li>
<li>19 MRI image features</li>
<li>4 kidney volume variables</li>
</ul>
</section>
</section>
<section id="missingness" class="level1">
<h1>Missingness</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine missingness</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_var</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine missingness percents</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">vis_miss</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We have 0 missing values!</p>
</section>
<section id="data-split" class="level1">
<h1>Data Split</h1>
<section id="background-1" class="level4">
<h4 class="anchored" data-anchor-id="background-1">Background</h4>
<p>We have an N of 71, which is notably small.</p>
<p>In order to increase the power of the study, we will perform a 5-fold cross validation. Thus, all patients will be in both the training and validation sets, providing a comprehensive evaluation.</p>
<p><img src="images/clipboard-802573844.png" class="img-fluid"></p>
</section>
<section id="perform-the-split" class="level4">
<h4 class="anchored" data-anchor-id="perform-the-split">Perform the Split</h4>
<p>To begin with, we will divide our data set into 5 even folds.</p>
<p>First we randomly shuffle the data so it is not organized by Subject ID</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set seed for reproducibility</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Shuffle the rows</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="fu">nrow</span>(data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we create 5-folds of our data set.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create labels for Folds1-5</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fold_number =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Fold1"</span>, <span class="st">"Fold2"</span>, <span class="st">"Fold3"</span>, <span class="st">"Fold4"</span>, <span class="st">"Fold5"</span>), <span class="at">length.out =</span> <span class="fu">n</span>())) <span class="ot">-&gt;</span> data</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="do">#### Create separate data frames for each fold</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Fold 1</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">!=</span> <span class="st">"Fold1"</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>data1_test <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">==</span> <span class="st">"Fold1"</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create fold 2</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>data2_train <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">!=</span> <span class="st">"Fold2"</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>data2_test <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">==</span> <span class="st">"Fold2"</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create fold 3</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>data3_train <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">!=</span> <span class="st">"Fold3"</span>)</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>data3_test <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">==</span> <span class="st">"Fold3"</span>)</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Create fold 4</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>data4_train <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">!=</span> <span class="st">"Fold4"</span>)</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>data4_test <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">==</span> <span class="st">"Fold4"</span>)</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Create fold 5</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>data5_train <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">!=</span> <span class="st">"Fold5"</span>)</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>data5_test <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fold_number <span class="sc">==</span> <span class="st">"Fold5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And examine <code>Fold1</code> and ensure the dimensions check out.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check dimensions of Fold1</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data1_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 56 25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check dimensions of Fold1</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(data1_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for any overlapping patients</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(data1_train, data1_test, <span class="at">by =</span> <span class="st">"Subject_ID"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 49
# ℹ 49 variables: Subject_ID &lt;dbl&gt;, geom1.x &lt;dbl&gt;, geom2.x &lt;dbl&gt;,
#   gabor1.x &lt;dbl&gt;, gabor2.x &lt;dbl&gt;, gabor3.x &lt;dbl&gt;, gabor4.x &lt;dbl&gt;,
#   gabor5.x &lt;dbl&gt;, glcm1.x &lt;dbl&gt;, glcm2.x &lt;dbl&gt;, txti1.x &lt;dbl&gt;, txti2.x &lt;dbl&gt;,
#   txti3.x &lt;dbl&gt;, txti4.x &lt;dbl&gt;, txti5.x &lt;dbl&gt;, lbp1.x &lt;dbl&gt;, lbp2.x &lt;dbl&gt;,
#   lbp3.x &lt;dbl&gt;, lbp4.x &lt;dbl&gt;, lbp5.x &lt;dbl&gt;, kidvol_base.x &lt;dbl&gt;,
#   kidvol_visit2.x &lt;dbl&gt;, progression.x &lt;fct&gt;, kidvol_change.x &lt;dbl&gt;,
#   fold_number.x &lt;chr&gt;, geom1.y &lt;dbl&gt;, geom2.y &lt;dbl&gt;, gabor1.y &lt;dbl&gt;, …</code></pre>
</div>
</div>
<p>We have 56 patients in the fold 1 training set, and 15 in the test set, with no overlapping IDs. Perfect!</p>
</section>
</section>
<section id="data-examination" class="level1">
<h1>Data Examination</h1>
<p>Examining the distributions of the entire data set before splitting can cause subtle biases. For example, transformations or decisions based on the entire data set might inadvertently incorporate patterns from the test data into the training process!</p>
<p>We essentially want to mimic real world situations, where we would not know the distributions of our test set prior to analysis.</p>
<p>Thus, we will perform the initial examination of the distribution of our variables, using <code>Fold1_train</code>.</p>
<section id="univariate-distributions" class="level2">
<h2 class="anchored" data-anchor-id="univariate-distributions">Univariate Distributions</h2>
<section id="Outcomes_Uni" class="level3">
<h3 class="anchored" data-anchor-id="Outcomes_Uni">Outcome Variables</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Kidney Volume</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Disease Progression</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Summary</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="baseline-kidney-volume" class="level4">
<h4 class="anchored" data-anchor-id="baseline-kidney-volume">Baseline Kidney Volume</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize baseline kidney volume</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> kidvol_base)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram for Baseline Kidney Volume"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Baseline Kidney Volume"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Kidney volume at baseline appears to not be normally distributed.</p>
<p>However, I learned in the last project that taking the change score (or percent) will make the outcome normally distributed, as it is a way of accounting for between subject variance. Let’s check that that’s the case this time.</p>
</section>
<section id="percent-change-in-kidney-volume" class="level4">
<h4 class="anchored" data-anchor-id="percent-change-in-kidney-volume">Percent Change in Kidney Volume</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> kidvol_change)) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">4.5</span>) <span class="sc">+</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Kidney Volume Change"</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Kidney Volume Change (%)"</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> kidvol_change)) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Kidney Volume Change"</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>kidvol_change</code> is not quite normally distributed.</p>
<section id="log-transform" class="level5">
<h5 class="anchored" data-anchor-id="log-transform">Log Transform</h5>
<p>Let’s check if a logarithmic or sqrt transformation will be better.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>kidvol_change)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.406
 - Center+scale: 2.0927
 - Double Reversed Log_b(x+a): 2.7753
 - Exp(x): 7.088
 - Log_b(x+a): 1.4253
 - orderNorm (ORQ): 1.3587
 - sqrt(x + a): 1.4447
 - Yeo-Johnson: 1.6673
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
orderNorm Transformation with 56 nonmissing obs and no ties 
 - Original quantiles:
    0%    25%    50%    75%   100% 
-1.750  3.805  7.405 13.590 38.190 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(kidvol_change))) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Log Kidney Volume Change"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Kidney Volume Change (%)"</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">log</span>(kidvol_change))) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Log Kidney Volume Change"</span>)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in log(kidvol_change): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in log(kidvol_change): NaNs produced
Warning in log(kidvol_change): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_qq()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_qq_line()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="square-root-transform" class="level5">
<h5 class="anchored" data-anchor-id="square-root-transform">Square Root Transform</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">sqrt</span>(kidvol_change))) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Sqrt Kidney Volume Change"</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Kidney Volume Change (%)"</span>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">sqrt</span>(kidvol_change))) <span class="sc">+</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Sqrt Kidney Volume Chage"</span>)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(kidvol_change): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(kidvol_change): NaNs produced
Warning in sqrt(kidvol_change): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_qq()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_qq_line()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The log transform appears the best for us.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create log change in kidney volume</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kidvol_change_log =</span> <span class="fu">log</span>(kidvol_change))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
ℹ In argument: `kidvol_change_log = log(kidvol_change)`.
Caused by warning in `log()`:
! NaNs produced</code></pre>
</div>
</div>
</section>
</section>
<section id="outliers" class="level4">
<h4 class="anchored" data-anchor-id="outliers">Outliers</h4>
<p>It also appears that we have two outlier values. Let’s assess using boxplots.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate IQR and identify outliers</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>IQR_val <span class="ot">&lt;-</span> <span class="fu">IQR</span>(data1_train<span class="sc">$</span>kidvol_change)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(data1_train<span class="sc">$</span>kidvol_change, <span class="fl">0.25</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(data1_train<span class="sc">$</span>kidvol_change, <span class="fl">0.75</span>)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>lower_bound <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> (<span class="fl">1.5</span><span class="sc">*</span>IQR_val)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>upper_bound <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> (<span class="fl">1.5</span><span class="sc">*</span>IQR_val)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create boxplot and flag outliers</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> kidvol_change)) <span class="sc">+</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(kidvol_change <span class="sc">&lt;</span> lower_bound <span class="sc">|</span> kidvol_change <span class="sc">&gt;</span> upper_bound, Subject_ID, <span class="st">""</span>)), <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Boxplot of Kidney Volume Change"</span>,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Kidney Volume Change"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Patients 37 and 51 are flagging as potential outliers. Let’s examine them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine outlier patients</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="sc">|&gt;</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(kidvol_change)) <span class="sc">|&gt;</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pretty_print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Subject_ID</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">glcm1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">glcm2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kidvol_base</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kidvol_visit2</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">progression</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kidvol_change</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">fold_number</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kidvol_change_log</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">37</td>
<td style="text-align: right;">-3.860771</td>
<td style="text-align: right;">14.90555</td>
<td style="text-align: right;">0.2621932</td>
<td style="text-align: right;">-0.1983384</td>
<td style="text-align: right;">-0.0520030</td>
<td style="text-align: right;">0.0687453</td>
<td style="text-align: right;">0.0393381</td>
<td style="text-align: right;">871.6238</td>
<td style="text-align: right;">759728.00</td>
<td style="text-align: right;">-14.722587</td>
<td style="text-align: right;">-1.969424</td>
<td style="text-align: right;">28.99502</td>
<td style="text-align: right;">216.75458</td>
<td style="text-align: right;">3.878631</td>
<td style="text-align: right;">-0.0557547</td>
<td style="text-align: right;">0.0722141</td>
<td style="text-align: right;">-0.0040263</td>
<td style="text-align: right;">0.0031086</td>
<td style="text-align: right;">0.0052149</td>
<td style="text-align: right;">173</td>
<td style="text-align: right;">372</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: right;">38.19</td>
<td style="text-align: left;">Fold3</td>
<td style="text-align: right;">3.642574</td>
</tr>
<tr class="even">
<td style="text-align: right;">51</td>
<td style="text-align: right;">-43.393038</td>
<td style="text-align: right;">1882.95573</td>
<td style="text-align: right;">0.0047377</td>
<td style="text-align: right;">0.0544573</td>
<td style="text-align: right;">0.0002580</td>
<td style="text-align: right;">0.0000224</td>
<td style="text-align: right;">0.0029656</td>
<td style="text-align: right;">2454.8065</td>
<td style="text-align: right;">6026075.10</td>
<td style="text-align: right;">-14.671508</td>
<td style="text-align: right;">-9.355575</td>
<td style="text-align: right;">137.26039</td>
<td style="text-align: right;">215.25315</td>
<td style="text-align: right;">87.526780</td>
<td style="text-align: right;">0.1577583</td>
<td style="text-align: right;">0.1676594</td>
<td style="text-align: right;">0.0264497</td>
<td style="text-align: right;">0.0248877</td>
<td style="text-align: right;">0.0281097</td>
<td style="text-align: right;">185</td>
<td style="text-align: right;">387</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: right;">36.28</td>
<td style="text-align: left;">Fold2</td>
<td style="text-align: right;">3.591267</td>
</tr>
<tr class="odd">
<td style="text-align: right;">52</td>
<td style="text-align: right;">77.054904</td>
<td style="text-align: right;">5937.45816</td>
<td style="text-align: right;">0.4598489</td>
<td style="text-align: right;">0.1556082</td>
<td style="text-align: right;">0.0715563</td>
<td style="text-align: right;">0.2114611</td>
<td style="text-align: right;">0.0242139</td>
<td style="text-align: right;">-638.4451</td>
<td style="text-align: right;">407612.16</td>
<td style="text-align: right;">20.267845</td>
<td style="text-align: right;">9.686888</td>
<td style="text-align: right;">196.33234</td>
<td style="text-align: right;">410.78554</td>
<td style="text-align: right;">93.835797</td>
<td style="text-align: right;">9.7525713</td>
<td style="text-align: right;">1.1625327</td>
<td style="text-align: right;">11.3376835</td>
<td style="text-align: right;">95.1126464</td>
<td style="text-align: right;">1.3514824</td>
<td style="text-align: right;">358</td>
<td style="text-align: right;">640</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: right;">26.18</td>
<td style="text-align: left;">Fold4</td>
<td style="text-align: right;">3.264996</td>
</tr>
<tr class="even">
<td style="text-align: right;">16</td>
<td style="text-align: right;">-53.668735</td>
<td style="text-align: right;">2880.33311</td>
<td style="text-align: right;">0.0179566</td>
<td style="text-align: right;">0.0169461</td>
<td style="text-align: right;">0.0003043</td>
<td style="text-align: right;">0.0003224</td>
<td style="text-align: right;">0.0002872</td>
<td style="text-align: right;">-1045.7503</td>
<td style="text-align: right;">1093593.77</td>
<td style="text-align: right;">22.599974</td>
<td style="text-align: right;">6.944927</td>
<td style="text-align: right;">156.95517</td>
<td style="text-align: right;">510.75882</td>
<td style="text-align: right;">48.232014</td>
<td style="text-align: right;">1.2350248</td>
<td style="text-align: right;">-0.0196489</td>
<td style="text-align: right;">-0.0242669</td>
<td style="text-align: right;">1.5252862</td>
<td style="text-align: right;">0.0003861</td>
<td style="text-align: right;">124</td>
<td style="text-align: right;">218</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: right;">25.19</td>
<td style="text-align: left;">Fold4</td>
<td style="text-align: right;">3.226447</td>
</tr>
<tr class="odd">
<td style="text-align: right;">12</td>
<td style="text-align: right;">39.713073</td>
<td style="text-align: right;">1577.12814</td>
<td style="text-align: right;">0.0171863</td>
<td style="text-align: right;">-0.0625420</td>
<td style="text-align: right;">-0.0010749</td>
<td style="text-align: right;">0.0002954</td>
<td style="text-align: right;">0.0039115</td>
<td style="text-align: right;">-232.4497</td>
<td style="text-align: right;">54032.86</td>
<td style="text-align: right;">4.756968</td>
<td style="text-align: right;">-5.052123</td>
<td style="text-align: right;">-24.03279</td>
<td style="text-align: right;">22.62874</td>
<td style="text-align: right;">25.523950</td>
<td style="text-align: right;">-0.4746998</td>
<td style="text-align: right;">-0.2096379</td>
<td style="text-align: right;">0.0995151</td>
<td style="text-align: right;">0.2253399</td>
<td style="text-align: right;">0.0439481</td>
<td style="text-align: right;">571</td>
<td style="text-align: right;">955</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: right;">22.43</td>
<td style="text-align: left;">Fold2</td>
<td style="text-align: right;">3.110399</td>
</tr>
<tr class="even">
<td style="text-align: right;">27</td>
<td style="text-align: right;">19.823006</td>
<td style="text-align: right;">392.95157</td>
<td style="text-align: right;">0.1110084</td>
<td style="text-align: right;">-0.2023359</td>
<td style="text-align: right;">-0.0224610</td>
<td style="text-align: right;">0.0123229</td>
<td style="text-align: right;">0.0409398</td>
<td style="text-align: right;">1260.9953</td>
<td style="text-align: right;">1590109.19</td>
<td style="text-align: right;">-23.601456</td>
<td style="text-align: right;">-10.709026</td>
<td style="text-align: right;">252.74861</td>
<td style="text-align: right;">557.02874</td>
<td style="text-align: right;">114.683237</td>
<td style="text-align: right;">-1.4239375</td>
<td style="text-align: right;">0.5109157</td>
<td style="text-align: right;">-0.7275121</td>
<td style="text-align: right;">2.0275981</td>
<td style="text-align: right;">0.2610349</td>
<td style="text-align: right;">553</td>
<td style="text-align: right;">829</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: right;">16.62</td>
<td style="text-align: left;">Fold4</td>
<td style="text-align: right;">2.810607</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Interesting, it looks like these patients also have high values for certain MRI image features, such as GLCM 1 and 2. Additionally, they do not have the highest visit 2 kidney volumes, they simply increases in size the most.</p>
</section>
<section id="summary-1" class="level3">
<h3 class="anchored" data-anchor-id="summary-1">Summary</h3>
<section id="transformation" class="level5">
<h5 class="anchored" data-anchor-id="transformation">Transformation</h5>
<p>It appears that a log transform of <code>kidvol_change</code> gives us an approximately normal distribution, and this will be the value used for the outcome variable for task 1 going forward.</p>
</section>
<section id="outliers-1" class="level5">
<h5 class="anchored" data-anchor-id="outliers-1">Outliers</h5>
<p>While patients 37 and 51 are potential outliers on <code>kidvol_change</code>, these are NOT erroneous values. On the contrary, they are backed up by similar high values on other measurements such as <code>glcm2</code>, but are not universally high on all MRI image features. In other words, these appear to be very realistic values.</p>
<p>In summary, all values are derived from authentic biological data. They will be examined using the jackknife residuals to assess for leverage and influence, but we are motivated to retain them in the analysis.</p>
<p><a href="#Outcomes_Uni">Top of Tabset</a></p>
</section>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create bar plot</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> progression, <span class="at">fill =</span> progression)) <span class="sc">+</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Pastel2"</span>) <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">45</span>) <span class="sc">+</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Count of Slow vs Fast Disease Progression"</span>,</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Disease Progression"</span>,</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Progression"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Table</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data1_train<span class="sc">$</span>progression) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Slow Fast 
  28   28 </code></pre>
</div>
</div>
<p>We have an equal amount of patients that had slow vs fast disease progression.</p>
<p><a href="#Outcomes_Uni">Top of Tabset</a></p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<section id="kidney-volume-change" class="level4">
<h4 class="anchored" data-anchor-id="kidney-volume-change">Kidney Volume Change</h4>
<p><code>kidvol_change</code> is approximately normally distributed following a log transform, with 2 potential outliers we will keep an eye on.</p>
</section>
<section id="slow-vs-fast-disease-progression" class="level4">
<h4 class="anchored" data-anchor-id="slow-vs-fast-disease-progression">Slow vs Fast Disease Progression</h4>
<p>We have an even count between patients who had slow vs fast disease progression.</p>
<p><a href="#Outcomes_Uni">Top of Tabset</a></p>
</section>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="Features_Uni" class="level1">
<h1>Feature Engineering</h1>
<p>An assumption for a linear regression is that there is a linear relationship between the predictor and the outcome variable.</p>
<p>Thus for the initial step, we will examine the distribution of our variables and create a quadratic term or take the log for each variable as necessary.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Geometry</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Gabor</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">GLCM</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">TXTI</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-5" role="tab" aria-controls="tabset-6-5" aria-selected="false">LBP</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-6" role="tab" aria-controls="tabset-6-6" aria-selected="false">Feature Engineering Summary</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Geom1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Geom2</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> geom1)) <span class="sc">+</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Geom1"</span>,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Geom1"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> geom1)) <span class="sc">+</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Geom1"</span>)</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>There is 1 patient with a drastically lower value than everyone else. Let’s examine.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to most negative geom1 value</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="sc">|&gt;</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(geom1) <span class="sc">|&gt;</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Subject_ID, geom1, geom2) <span class="sc">|&gt;</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pretty_print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Subject_ID</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">48</td>
<td style="text-align: right;">-124.26679</td>
<td style="text-align: right;">15442.236</td>
</tr>
<tr class="even">
<td style="text-align: right;">7</td>
<td style="text-align: right;">-59.49517</td>
<td style="text-align: right;">3539.675</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16</td>
<td style="text-align: right;">-53.66873</td>
<td style="text-align: right;">2880.333</td>
</tr>
<tr class="even">
<td style="text-align: right;">66</td>
<td style="text-align: right;">-53.22180</td>
<td style="text-align: right;">2832.560</td>
</tr>
<tr class="odd">
<td style="text-align: right;">69</td>
<td style="text-align: right;">-46.48719</td>
<td style="text-align: right;">2161.059</td>
</tr>
<tr class="even">
<td style="text-align: right;">51</td>
<td style="text-align: right;">-43.39304</td>
<td style="text-align: right;">1882.956</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Patient 48 appears to be an outlier on <code>geom1</code>.</p>
<section id="perform-transformation" class="level4">
<h4 class="anchored" data-anchor-id="perform-transformation">Perform Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>geom1)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 3.3087
 - Center+scale: 1.9827
 - Double Reversed Log_b(x+a): 2.4733
 - Exp(x): 4.596
 - Log_b(x+a): 1.396
 - orderNorm (ORQ): 1.5187
 - sqrt(x + a): 1.65
 - Yeo-Johnson: 1.78
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized Log_b(x + a) Transformation with 56 nonmissing obs.:
 Relevant statistics:
 - a = 124.2678 
 - b = 10 
 - mean (before standardization) = 1.998683 
 - sd (before standardization) = 0.6974149 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">sqrt</span>(geom1))) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Log Geom1"</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Log Geom1"</span>)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">sqrt</span>(geom1))) <span class="sc">+</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Log Geom1"</span>)</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(geom1): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 30 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in sqrt(geom1): NaNs produced
Warning in sqrt(geom1): NaNs produced</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 30 rows containing non-finite outside the scale range
(`stat_qq()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 30 rows containing non-finite outside the scale range
(`stat_qq_line()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><code>geom</code> is normally distributed after a sqrt transform.</p>
</section>
<section id="summary-3" class="level4">
<h4 class="anchored" data-anchor-id="summary-3">Summary</h4>
<p><code>geom1</code> is normally distributed following a log transform. There is potentially one outlier on the negative side, but this seemed to not be a factor following square root transformation.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> geom2)) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">300</span>) <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Geom2"</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Geom2"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> geom2)) <span class="sc">+</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Geom2"</span>)</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>geom2</code> appears to be logarithmic. Let’s adjust.</p>
<section id="square-root-transformation" class="level4">
<h4 class="anchored" data-anchor-id="square-root-transformation">Square Root Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create new variable</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">mutate</span>(<span class="at">geom2_sqrt =</span> <span class="fu">sqrt</span>(geom2),</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">geom2_log =</span> <span class="fu">log</span>(geom2)) </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> geom2_sqrt)) <span class="sc">+</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Geom2_sqrt"</span>,</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Geom2_sqrt"</span>,</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> geom2_sqrt)) <span class="sc">+</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Geom2_sqrt"</span>)</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>Sqrt kind of makes it better, but not quite.</p>
</section>
<section id="log-transformation" class="level4">
<h4 class="anchored" data-anchor-id="log-transformation">Log Transformation</h4>
<p>Let’s examine the log.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(geom2))) <span class="sc">+</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Geom2 log"</span>,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Geom2 log"</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">log</span>(geom2))) <span class="sc">+</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Geom2 log"</span>)</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>A Yeo Johnson transformation</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>geom2)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.7313
 - Box-Cox: 1.8647
 - Center+scale: 3.9007
 - Double Reversed Log_b(x+a): 4.1427
 - Log_b(x+a): 1.7467
 - orderNorm (ORQ): 1.7467
 - sqrt(x + a): 2.2773
 - Yeo-Johnson: 1.7813
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized asinh(x) Transformation with 56 nonmissing obs.:
 Relevant statistics:
 - mean (before standardization) = 7.243183 
 - sd (before standardization) = 2.168931 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">yeojohnson</span>(geom2)<span class="sc">$</span>x.t)) <span class="sc">+</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Geom2 Yeo"</span>,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Geom2 Yeo"</span>,</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">yeojohnson</span>(geom2)<span class="sc">$</span>x.t)) <span class="sc">+</span></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Geom2 Yeo"</span>)</span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I think log or yeo is our best bet here.</p>
</section>
<section id="summary-4" class="level4">
<h4 class="anchored" data-anchor-id="summary-4">Summary</h4>
<p>While there is no transformation that makes <code>geom2</code> normally distributed, log or yeojohnson transformation may help and will be considered.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Gabor1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Gabor2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Gabor3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Gabor4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-5" role="tab" aria-controls="tabset-3-5" aria-selected="false">Gabor5</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>hist_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> gabor1)) <span class="sc">+</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Gabor1"</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Gabor2"</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create qqplot</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>qq_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">sample =</span> gabor1)) <span class="sc">+</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"QQ Plot of Gabor1"</span>)</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot side by side</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(hist_plot, qq_plot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>gabor1</code> is normally distributed.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"gabor2"</span>, <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `aes_string()` was deprecated in ggplot2 3.0.0.
ℹ Please use tidy evaluation idioms with `aes()`.
ℹ See also `vignette("ggplot2-in-packages")` for more information.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>gabor2</code> appears approximately normally distributed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>gabor2)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.402
 - Center+scale: 1.402
 - Double Reversed Log_b(x+a): 1.1913
 - Exp(x): 1.2947
 - Log_b(x+a): 2.104
 - orderNorm (ORQ): 1.616
 - sqrt(x + a): 1.5867
 - Yeo-Johnson: 1.502
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized double reversed Log_b(x + a) Transformation with 56 nonmissing obs.:
 Relevant statistics:
 - a = 
 - b = 10 
 - max(x) = 0.3151444 ; min(x) = -0.2533082 
 - mean (before standardization) = 0.2727949 
 - sd (before standardization) = 0.1871679 </code></pre>
</div>
</div>
<p>It looks like a yeo johnson transformation will be most appropriate here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gabor2_yeo =</span> <span class="fu">yeojohnson</span>(gabor2)<span class="sc">$</span>x.t)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"gabor2_yeo"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>A yeo johnson transformation <em>slightly</em> improves the normality of <code>gabor2</code>.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"gabor3"</span>, <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><a href="#Features_Uni">Top of Tabset</a></p>
<p><code>gabor3</code> appears approximately normally distributed, with some potential outliers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>gabor3)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.6907
 - Center+scale: 1.6907
 - Double Reversed Log_b(x+a): 1.4893
 - Exp(x): 1.6907
 - Log_b(x+a): 1.744
 - orderNorm (ORQ): 1.6227
 - sqrt(x + a): 1.5147
 - Yeo-Johnson: 1.7907
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized double reversed Log_b(x + a) Transformation with 56 nonmissing obs.:
 Relevant statistics:
 - a = 
 - b = 10 
 - max(x) = 0.08391221 ; min(x) = -0.0643589 
 - mean (before standardization) = 0.2611926 
 - sd (before standardization) = 0.1237591 </code></pre>
</div>
</div>
<p>Transformations don’t seem to help much here. We want the values to be closest to 1 to indicate more normality.</p>
<section id="summary-5" class="level4">
<h4 class="anchored" data-anchor-id="summary-5">Summary</h4>
<p>Transformation doesn’t seem to help much with <code>gabor3</code>.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"gabor4"</span>, <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>gabor4</code> may be exponential.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gabor4_log =</span> <span class="fu">log</span>(gabor4))</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"gabor4_log"</span>, <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>gabor4_log</code> appears to be normally distributed.</p>
<section id="summary-6" class="level4">
<h4 class="anchored" data-anchor-id="summary-6">Summary</h4>
<p>The log transform of <code>gabor4</code> made it approximately normal.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-3-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"gabor5"</span>, <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>gabor5</code> looks logarithmic potentially.</p>
<section id="log-transform-1" class="level4">
<h4 class="anchored" data-anchor-id="log-transform-1">Log Transform</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>gabor5)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.8227
 - Box-Cox: 1.274
 - Center+scale: 1.8227
 - Double Reversed Log_b(x+a): 2.138
 - Exp(x): 1.8227
 - Log_b(x+a): 1.4367
 - orderNorm (ORQ): 1.3267
 - sqrt(x + a): 1.3587
 - Yeo-Johnson: 1.742
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized Box Cox Transformation with 56 nonmissing obs.:
 Estimated statistics:
 - lambda = 0.2934285 
 - mean (before standardization) = -2.58858 
 - sd (before standardization) = 0.3299984 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create log term</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gabor5_log =</span> <span class="fu">log</span>(gabor5))</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"gabor5_log"</span>, <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>That’s kind of better.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate IQR and identify outliers</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>IQR_val <span class="ot">&lt;-</span> <span class="fu">IQR</span>(data1_train<span class="sc">$</span>gabor5_log)</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>Q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(data1_train<span class="sc">$</span>gabor5_log, <span class="fl">0.25</span>)</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>Q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(data1_train<span class="sc">$</span>gabor5_log, <span class="fl">0.75</span>)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>lower_bound <span class="ot">&lt;-</span> Q1 <span class="sc">-</span> (<span class="fl">1.5</span><span class="sc">*</span>IQR_val)</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>upper_bound <span class="ot">&lt;-</span> Q3 <span class="sc">+</span> (<span class="fl">1.5</span><span class="sc">*</span>IQR_val)</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create boxplot and flag outliers</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data1_train, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> gabor5_log)) <span class="sc">+</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(gabor5_log <span class="sc">&lt;</span> lower_bound <span class="sc">|</span> gabor5_log <span class="sc">&gt;</span> upper_bound, Subject_ID, <span class="st">""</span>)), <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Boxplot of Gabor5"</span>,</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Gabor5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-7" class="level4">
<h4 class="anchored" data-anchor-id="summary-7">Summary</h4>
<p><code>gabor5</code> is not normally distributed, and no transform seems to help much. It may be dropped from consideration.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="panel_tabset">
<section id="glcm1" class="level2">
<h2 class="anchored" data-anchor-id="glcm1">GLCM1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"glcm1"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>glcm1</code> is approximately normally distributed.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
<section id="glcm2" class="level2">
<h2 class="anchored" data-anchor-id="glcm2">GLCM2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"glcm2"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>glcm2</code> may be logarithmic.</p>
<section id="log-transform-2" class="level4">
<h4 class="anchored" data-anchor-id="log-transform-2">Log Transform</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create log variable</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">glcm2_log =</span> <span class="fu">log</span>(glcm2))</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3.5</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 8</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"glcm2_log"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>glcm2)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.5713
 - Box-Cox: 1.4393
 - Center+scale: 2.778
 - Double Reversed Log_b(x+a): 3.388
 - Log_b(x+a): 1.5713
 - orderNorm (ORQ): 1.7147
 - sqrt(x + a): 1.6827
 - Yeo-Johnson: 1.4393
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized Box Cox Transformation with 56 nonmissing obs.:
 Estimated statistics:
 - lambda = 0.245653 
 - mean (before standardization) = 105.7341 
 - sd (before standardization) = 37.69292 </code></pre>
</div>
</div>
<p>It appears that this is the best transformation we will get.</p>
</section>
<section id="summary-8" class="level4">
<h4 class="anchored" data-anchor-id="summary-8">Summary</h4>
<p>The best transformation for <code>glcm2</code> is a log transform.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</section>
</div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">TXT1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">TXTI2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">TXTI3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">TXTI4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-5" role="tab" aria-controls="tabset-4-5" aria-selected="false">TXTI5</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"txti1"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<section id="summary-9" class="level4">
<h4 class="anchored" data-anchor-id="summary-9">Summary</h4>
<p><code>txti1</code> appears normally distributed</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"txti2"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<section id="summary-10" class="level4">
<h4 class="anchored" data-anchor-id="summary-10">Summary</h4>
<p><code>txti2</code> appears normally distributed.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"txti3"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<section id="summary-11" class="level4">
<h4 class="anchored" data-anchor-id="summary-11">Summary</h4>
<p><code>txti3</code> appears normally distributed.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"txti4"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>txti4</code> may be logarithmic.</p>
<section id="log-transform-3" class="level4">
<h4 class="anchored" data-anchor-id="log-transform-3">Log Transform</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">txti4_log =</span> <span class="fu">log</span>(txti4))</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Make plots</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"txti4_log"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>That’s better, still not perfect.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>txti4)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.8187
 - Box-Cox: 1.57
 - Center+scale: 2.6113
 - Double Reversed Log_b(x+a): 3.1647
 - Log_b(x+a): 1.8187
 - orderNorm (ORQ): 1.574
 - sqrt(x + a): 1.442
 - Yeo-Johnson: 1.62
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized sqrt(x + a) Transformation with 56 nonmissing obs.:
 Relevant statistics:
 - a = 0 
 - mean (before standardization) = 13.72864 
 - sd (before standardization) = 9.201842 </code></pre>
</div>
</div>
<p>Log is better than sqrt so we will use log.</p>
</section>
<section id="summary-12" class="level4">
<h4 class="anchored" data-anchor-id="summary-12">Summary</h4>
<p>The best transformation for <code>txtxi4</code> is log, though it is still not perfect.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-4-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"txti5"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>May be logarithmic.</p>
<section id="log-transform-4" class="level4">
<h4 class="anchored" data-anchor-id="log-transform-4">Log Transform</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">txti5_log =</span> <span class="fu">log</span>(txti5))</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| # Make plots</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data, <span class="st">"txti5_log"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>That looks better. Mostly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>txti5)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 56 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.4227
 - Box-Cox: 1.2587
 - Center+scale: 2.5847
 - Double Reversed Log_b(x+a): 2.79
 - Exp(x): 4.2093
 - Log_b(x+a): 1.4727
 - orderNorm (ORQ): 1.624
 - sqrt(x + a): 1.52
 - Yeo-Johnson: 1.242
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized Yeo-Johnson Transformation with 56 nonmissing obs.:
 Estimated statistics:
 - lambda = 0.09721794 
 - mean (before standardization) = 3.760793 
 - sd (before standardization) = 1.937912 </code></pre>
</div>
</div>
<p>Log performs better than sqrt, that’s as good as we can get.</p>
</section>
<section id="summary-13" class="level4">
<h4 class="anchored" data-anchor-id="summary-13">Summary</h4>
<p>The best transformation for <code>txti5</code> is logarithmic.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
</div>
</div>
</div>
<div id="tabset-6-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-5-tab">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">LBP1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">LBP2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">LBP3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">LBP4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-5" role="tab" aria-controls="tabset-5-5" aria-selected="false">LBP5</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp1"</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>Looks normally distributed with 1 outlier.</p>
<section id="remove-outlier" class="level4">
<h4 class="anchored" data-anchor-id="remove-outlier">Remove Outlier</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine LBP outlier</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="sc">|&gt;</span> </span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(lbp3)) <span class="sc">|&gt;</span> </span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Subject_ID, lbp1, lbp2, lbp3, lbp4, lbp5) <span class="sc">|&gt;</span> </span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pretty_print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Subject_ID</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">52</td>
<td style="text-align: right;">9.7525713</td>
<td style="text-align: right;">1.1625327</td>
<td style="text-align: right;">11.3376835</td>
<td style="text-align: right;">95.1126464</td>
<td style="text-align: right;">1.3514824</td>
</tr>
<tr class="even">
<td style="text-align: right;">14</td>
<td style="text-align: right;">-1.0859087</td>
<td style="text-align: right;">-0.8250696</td>
<td style="text-align: right;">0.8959503</td>
<td style="text-align: right;">1.1791977</td>
<td style="text-align: right;">0.6807399</td>
</tr>
<tr class="odd">
<td style="text-align: right;">61</td>
<td style="text-align: right;">-1.2967552</td>
<td style="text-align: right;">-0.6707632</td>
<td style="text-align: right;">0.8698157</td>
<td style="text-align: right;">1.6815740</td>
<td style="text-align: right;">0.4499233</td>
</tr>
<tr class="even">
<td style="text-align: right;">28</td>
<td style="text-align: right;">-0.5774531</td>
<td style="text-align: right;">-0.8531963</td>
<td style="text-align: right;">0.4926809</td>
<td style="text-align: right;">0.3334521</td>
<td style="text-align: right;">0.7279439</td>
</tr>
<tr class="odd">
<td style="text-align: right;">40</td>
<td style="text-align: right;">-0.5010965</td>
<td style="text-align: right;">-0.8251542</td>
<td style="text-align: right;">0.4134818</td>
<td style="text-align: right;">0.2510977</td>
<td style="text-align: right;">0.6808794</td>
</tr>
<tr class="even">
<td style="text-align: right;">7</td>
<td style="text-align: right;">0.3763026</td>
<td style="text-align: right;">0.7299012</td>
<td style="text-align: right;">0.2746638</td>
<td style="text-align: right;">0.1416037</td>
<td style="text-align: right;">0.5327558</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Patient 52 is a CLEAR outlier (lbp3 = 11, no othe patients have an lbp3 over 1).</p>
<p>We remove them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove outlier patient</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Subject_ID <span class="sc">==</span> <span class="dv">52</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="remake-plots" class="level4">
<h4 class="anchored" data-anchor-id="remake-plots">Remake Plots</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp1"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>That’s close to normal, let’s check if it could be better.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>lbp1)</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 55 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 1.4007
 - Center+scale: 1.5273
 - Double Reversed Log_b(x+a): 2.018
 - Exp(x): 2.1807
 - Log_b(x+a): 2.1373
 - orderNorm (ORQ): 1.3633
 - sqrt(x + a): 1.6867
 - Yeo-Johnson: 1.594
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
orderNorm Transformation with 55 nonmissing obs and no ties 
 - Original quantiles:
    0%    25%    50%    75%   100% 
-1.784 -0.562 -0.246  0.023  1.363 </code></pre>
</div>
</div>
</section>
<section id="yeo-johnson-transform" class="level4">
<h4 class="anchored" data-anchor-id="yeo-johnson-transform">Yeo Johnson Transform</h4>
<p>It seems a yeo transformation will be the best (since we have negatives and a log and sqrt transformation will cause NA values)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform transform</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lbp1_yeo =</span> <span class="fu">yeojohnson</span>(lbp1)<span class="sc">$</span>x.t)</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| # Make plots</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp1_yeo"</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>It’s slightly better, but not by much.</p>
</section>
<section id="summary-14" class="level4">
<h4 class="anchored" data-anchor-id="summary-14">Summary</h4>
<p>A yeo johnson transformation helps a little bit.</p>
<p>We will choose to not transform this variable.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note: Patient 52 is a clear outlier and possibly erroneous value on the <code>lbp</code> features. Ensure to remove it from all data sets!</p>
</div>
</div>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp2"</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>We appear to have a different outlier for <code>lbp2</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine outlier</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="sc">|&gt;</span> </span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(lbp2)) <span class="sc">|&gt;</span> </span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Subject_ID, lbp1, lbp2, lbp3, lbp4, lbp5) <span class="sc">|&gt;</span> </span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pretty_print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Subject_ID</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">48</td>
<td style="text-align: right;">-0.1337633</td>
<td style="text-align: right;">3.0589420</td>
<td style="text-align: right;">-0.4091741</td>
<td style="text-align: right;">0.0178926</td>
<td style="text-align: right;">9.3571262</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">-1.7843187</td>
<td style="text-align: right;">1.0797790</td>
<td style="text-align: right;">-1.9266699</td>
<td style="text-align: right;">3.1837934</td>
<td style="text-align: right;">1.1659227</td>
</tr>
<tr class="odd">
<td style="text-align: right;">30</td>
<td style="text-align: right;">-0.8565558</td>
<td style="text-align: right;">1.0250395</td>
<td style="text-align: right;">-0.8780035</td>
<td style="text-align: right;">0.7336879</td>
<td style="text-align: right;">1.0507059</td>
</tr>
<tr class="even">
<td style="text-align: right;">66</td>
<td style="text-align: right;">-0.0191984</td>
<td style="text-align: right;">0.9612270</td>
<td style="text-align: right;">-0.0184540</td>
<td style="text-align: right;">0.0003686</td>
<td style="text-align: right;">0.9239573</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">0.3763026</td>
<td style="text-align: right;">0.7299012</td>
<td style="text-align: right;">0.2746638</td>
<td style="text-align: right;">0.1416037</td>
<td style="text-align: right;">0.5327558</td>
</tr>
<tr class="even">
<td style="text-align: right;">3</td>
<td style="text-align: right;">-0.2515471</td>
<td style="text-align: right;">0.6778935</td>
<td style="text-align: right;">-0.1705221</td>
<td style="text-align: right;">0.0632760</td>
<td style="text-align: right;">0.4595395</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Patient 48 is an outlier on <code>lbp2</code> (lbp2 = 3, all other patients are essentially below 1).</p>
<p>We remove them</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove outlier</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Subject_ID <span class="sc">==</span> <span class="dv">48</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="remake-plots-1" class="level4">
<h4 class="anchored" data-anchor-id="remake-plots-1">Remake Plots</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp2"</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section"></h4>
<p><code>lbp2</code> is normally distributed</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp3"</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>Doesn’t look too good.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>lbp3)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 54 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 2.3647
 - Center+scale: 2.5773
 - Double Reversed Log_b(x+a): 2.5847
 - Exp(x): 2.3413
 - Log_b(x+a): 2.93
 - orderNorm (ORQ): 1.34
 - sqrt(x + a): 2.532
 - Yeo-Johnson: 2.6347
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
orderNorm Transformation with 54 nonmissing obs and no ties 
 - Original quantiles:
    0%    25%    50%    75%   100% 
-1.927 -0.173 -0.025  0.061  0.896 </code></pre>
</div>
</div>
<p>None of the transformations help much here.</p>
<section id="summary-15" class="level4">
<h4 class="anchored" data-anchor-id="summary-15">Summary</h4>
<p><code>lbp3</code> is not normally distributed and no transformations help. We keep the original unmodified values.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp4"</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>lbp4</code> appears logarithmic.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create log variable</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lbp4_log =</span> <span class="fu">log</span>(lbp4))</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| # Make plots</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp4_log"</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>Looks better.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>lbp4)</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 54 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 2.7933
 - Box-Cox: 1.4373
 - Center+scale: 3.0213
 - Double Reversed Log_b(x+a): 3.4987
 - Exp(x): 4.196
 - Log_b(x+a): 1.5973
 - orderNorm (ORQ): 1.7753
 - sqrt(x + a): 1.7087
 - Yeo-Johnson: 1.7753
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized Box Cox Transformation with 54 nonmissing obs.:
 Estimated statistics:
 - lambda = 0.1878715 
 - mean (before standardization) = -1.381953 
 - sd (before standardization) = 1.378322 </code></pre>
</div>
</div>
<p>The log transform also provides the best performance here.</p>
<section id="summary-16" class="level4">
<h4 class="anchored" data-anchor-id="summary-16">Summary</h4>
<p>The log transform provides the best distribution for <code>lbp4</code></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note: Patient 48 is a clear outlier and possibly erroneous value on the <code>lbp2</code> feature. Ensure to remove it from all data sets!</p>
</div>
</div>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
<div id="tabset-5-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-5-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp5"</span>, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-63-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>lbp5</code> looks logarithmic.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create log variable</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>data1_train <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lbp5_log =</span> <span class="fu">log</span>(lbp5))</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="co">#| # Make plots</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a><span class="fu">distr_plots</span>(data1_train, <span class="st">"lbp5_log"</span>, <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-64-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use bestNormalize R package to select the best transformation</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>BNObject <span class="ot">&lt;-</span> <span class="fu">bestNormalize</span>(data1_train<span class="sc">$</span>lbp5)</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>BNObject</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Best Normalizing transformation with 54 Observations
 Estimated Normality Statistics (Pearson P / df, lower =&gt; more normal):
 - arcsinh(x): 2.6007
 - Box-Cox: 1.568
 - Center+scale: 2.5867
 - Double Reversed Log_b(x+a): 3.0687
 - Exp(x): 3.346
 - Log_b(x+a): 1.6487
 - orderNorm (ORQ): 1.8627
 - sqrt(x + a): 1.9
 - Yeo-Johnson: 2.0653
Estimation method: Out-of-sample via CV with 10 folds and 5 repeats
 
Based off these, bestNormalize chose:
Standardized Box Cox Transformation with 54 nonmissing obs.:
 Estimated statistics:
 - lambda = 0.1567344 
 - mean (before standardization) = -1.795011 
 - sd (before standardization) = 1.298534 </code></pre>
</div>
</div>
<p>Looks better, and we confirm that the log transform performs the best.</p>
<section id="summary-17" class="level4">
<h4 class="anchored" data-anchor-id="summary-17">Summary</h4>
<p>Log transform is the best for <code>lbp5</code>.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</section>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>data1_train<span class="sc">$</span>geom1_log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Unknown or uninitialised column: `geom1_log`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
</div>
<div id="tabset-6-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-6-tab">
<p>We determined that the following variables were approximately normally distributed after performing the transformations below: - <code>kidvol_change_log</code> - <code>geom1_ -</code>geom2<code>-</code>gabor4<code>-</code>gabor5<code>? -</code>glcm2<code>-</code>txti4<code>-</code>txti5<code>-</code>lbp4<code>-</code>lbp5`</p>
<p><code>gabor5</code> is not normal even after transforming.</p>
<p>We also eliminated 2 outlier patients, <code>48</code> and <code>52</code>.</p>
<p><a href="#Features_Uni">Top of Tabset</a></p>
</div>
</div>
</div>
</section>
<section id="correlation-matrices" class="level1">
<h1>Correlation Matrices</h1>
<p>To assess for the best engineering of features and select the best covariates for this predictive model, I will create the following correlation matrices.</p>
<ul>
<li>With unaltered features</li>
<li>With most normalized features</li>
<li>With unaltered quadratic features</li>
<li>With most normalized quadratic features</li>
<li>With averages of all related terms</li>
<li>With averages of only the most significant related terms</li>
<li>With Interaction terms</li>
</ul>
<section id="matrix-one" class="level2">
<h2 class="anchored" data-anchor-id="matrix-one">Matrix One</h2>
<p>This matrix will contain the unaltered features in their original form, as well as the engineered features as determined by examination of distributions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Control matrix for better output</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>matrix_order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"kidvol_base"</span>, <span class="st">"kidvol_change"</span>, <span class="st">"kidvol_change_log"</span>, <span class="st">"progression"</span>, <span class="st">"geom1"</span>, <span class="st">"geom2"</span>, <span class="st">"gabor1"</span>, <span class="st">"gabor2"</span>, <span class="st">"gabor3"</span>, <span class="st">"gabor4"</span>, <span class="st">"gabor5"</span>, <span class="st">"glcm1"</span>, <span class="st">"glcm2"</span>, <span class="st">"txti1"</span>, <span class="st">"txti2"</span>, <span class="st">"txti3"</span>, <span class="st">"txti4"</span>, <span class="st">"txti5"</span>, <span class="st">"lbp1"</span>, <span class="st">"lbp2"</span>, <span class="st">"lbp3"</span>, <span class="st">"lbp4"</span>, <span class="st">"lbp5"</span>)</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean the output by making a trimmed dataset excluding extaneous variables</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>data_for_matrix <span class="ot">&lt;-</span> data1_train <span class="sc">|&gt;</span> </span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(kidvol_base, kidvol_change, kidvol_change_log, progression, <span class="fu">everything</span>(), <span class="sc">-</span>Subject_ID, <span class="sc">-</span>fold_number)</span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a><span class="co"># We factored our variables at the start. To make a correlation matrix we must reconvert those back to numeric</span></span>
<span id="cb116-9"><a href="#cb116-9" aria-hidden="true" tabindex="-1"></a>data_for_matrix <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">lapply</span>(data_for_matrix, <span class="cf">function</span>(x) <span class="cf">if</span> (<span class="fu">is.factor</span>(x)) <span class="fu">as.numeric</span>(x) <span class="cf">else</span> x))</span>
<span id="cb116-10"><a href="#cb116-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-11"><a href="#cb116-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a correlation matrix with all variables of the trimmed data set</span></span>
<span id="cb116-12"><a href="#cb116-12" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(data_for_matrix, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb116-13"><a href="#cb116-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-14"><a href="#cb116-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot correlation matrix</span></span>
<span id="cb116-15"><a href="#cb116-15" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(correlation_matrix, <span class="at">method =</span> <span class="st">"circle"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-67-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(kidvol_change <span class="sc">~</span> txti4_log, <span class="at">data =</span> data)</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = kidvol_change ~ txti4_log, data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-10.331  -5.779  -1.637   3.424  28.036 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)   5.7798     3.1711   1.823   0.0739 .
txti4_log     0.8133     0.6406   1.270   0.2097  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 8.118 on 54 degrees of freedom
Multiple R-squared:  0.02899,   Adjusted R-squared:  0.011 
F-statistic: 1.612 on 1 and 54 DF,  p-value: 0.2097</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(kidvol_change <span class="sc">~</span> txti4_log, <span class="at">data =</span> data)</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = kidvol_change ~ txti4_log, data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-10.331  -5.779  -1.637   3.424  28.036 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)   5.7798     3.1711   1.823   0.0739 .
txti4_log     0.8133     0.6406   1.270   0.2097  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 8.118 on 54 degrees of freedom
Multiple R-squared:  0.02899,   Adjusted R-squared:  0.011 
F-statistic: 1.612 on 1 and 54 DF,  p-value: 0.2097</code></pre>
</div>
</div>
<section id="this-is-a-matrix-for-feature-engineered-data-set" class="level4">
<h4 class="anchored" data-anchor-id="this-is-a-matrix-for-feature-engineered-data-set">This is a matrix for Feature Engineered Data Set</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # Function to square specified columns and rename the new variables</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="co"># square_selected_variables &lt;- function(df, columns) {</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   df %&gt;%</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     mutate(across(all_of(columns), ~ .^2, .names = "{.col}_square"))</span></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a><span class="co"># columns &lt;- data |&gt; </span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(-Subject_ID, -progression, - kidvol_base, -kidvol_visit2, -kidvol_change) |&gt; </span></span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   colnames()</span></span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a><span class="co"># data_test &lt;- square_selected_variables(data, columns)</span></span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a><span class="co"># # Clean the output by making a trimmed dataset excluding extaneous variables</span></span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a><span class="co"># data_for_matrix &lt;- data_test |&gt; </span></span>
<span id="cb121-16"><a href="#cb121-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(kidvol_base, kidvol_visit2, kidvol_change, everything(), -Subject_ID, -progression)</span></span>
<span id="cb121-17"><a href="#cb121-17" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb121-18"><a href="#cb121-18" aria-hidden="true" tabindex="-1"></a><span class="co"># # We factored our variables at the start. To make a correlation matrix we must reconvert those back to numeric</span></span>
<span id="cb121-19"><a href="#cb121-19" aria-hidden="true" tabindex="-1"></a><span class="co"># data_for_matrix &lt;- data.frame(lapply(data_for_matrix, function(x) if (is.factor(x)) as.numeric(x) else x))</span></span>
<span id="cb121-20"><a href="#cb121-20" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb121-21"><a href="#cb121-21" aria-hidden="true" tabindex="-1"></a><span class="co"># # Make a correlation matrix with all variables of the trimmed data set</span></span>
<span id="cb121-22"><a href="#cb121-22" aria-hidden="true" tabindex="-1"></a><span class="co"># correlation_matrix &lt;- cor(data_for_matrix, use = "complete.obs")</span></span>
<span id="cb121-23"><a href="#cb121-23" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb121-24"><a href="#cb121-24" aria-hidden="true" tabindex="-1"></a><span class="co"># # Plot correlation matrix</span></span>
<span id="cb121-25"><a href="#cb121-25" aria-hidden="true" tabindex="-1"></a><span class="co"># corrplot(correlation_matrix, method = "circle")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> gabor3, <span class="at">y =</span> kidvol_change)) <span class="sc">+</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-71-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(kidvol_change <span class="sc">~</span> gabor3, <span class="at">data =</span> data)</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = kidvol_change ~ gabor3, data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-11.375  -5.779  -2.133   4.095  28.309 

Coefficients:
            Estimate Std. Error t value         Pr(&gt;|t|)    
(Intercept)    9.566      1.101   8.686 0.00000000000783 ***
gabor3        -6.063     73.934  -0.082            0.935    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 8.238 on 54 degrees of freedom
Multiple R-squared:  0.0001245, Adjusted R-squared:  -0.01839 
F-statistic: 0.006725 on 1 and 54 DF,  p-value: 0.9349</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> gabor1, <span class="at">y =</span> kidvol_change)) <span class="sc">+</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-72-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(kidvol_change <span class="sc">~</span> gabor1, <span class="at">data =</span> data)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = kidvol_change ~ gabor1, data = data)

Residuals:
     Min       1Q   Median       3Q      Max 
-11.4303  -6.1146  -0.4812   3.5040  26.6623 

Coefficients:
            Estimate Std. Error t value         Pr(&gt;|t|)    
(Intercept)    9.519      1.045   9.112 0.00000000000165 ***
gabor1        20.783      8.496   2.446           0.0177 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 7.816 on 54 degrees of freedom
Multiple R-squared:  0.09976,   Adjusted R-squared:  0.08308 
F-statistic: 5.984 on 1 and 54 DF,  p-value: 0.01773</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> kidvol_base, <span class="at">y =</span> kidvol_change)) <span class="sc">+</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-73-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(kidvol_change <span class="sc">~</span>kidvol_base, <span class="at">data =</span> data)</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = kidvol_change ~ kidvol_base, data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-11.918  -5.915  -1.632   3.832  27.316 

Coefficients:
             Estimate Std. Error t value   Pr(&gt;|t|)    
(Intercept) 12.003612   2.231258   5.380 0.00000165 ***
kidvol_base -0.006531   0.005217  -1.252      0.216    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 8.121 on 54 degrees of freedom
Multiple R-squared:  0.0282,    Adjusted R-squared:  0.01021 
F-statistic: 1.567 on 1 and 54 DF,  p-value: 0.216</code></pre>
</div>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> kidvol_base, <span class="at">y =</span> kidvol_change, <span class="at">size =</span> geom1, <span class="at">color =</span> geom1)) <span class="sc">+</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The following aesthetics were dropped during statistical transformation: size
and colour.
ℹ This can happen when ggplot fails to infer the correct grouping structure in
  the data.
ℹ Did you forget to specify a `group` aesthetic or to convert a numerical
  variable into a factor?</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-73-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(kidvol_change <span class="sc">~</span> kidvol_base <span class="sc">+</span> geom1 , <span class="at">data =</span> data)</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = kidvol_change ~ kidvol_base + geom1, data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-11.422  -6.049  -2.294   4.031  25.741 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 17.95264    4.38868   4.091 0.000147 ***
kidvol_base -0.02336    0.01191  -1.961 0.055099 .  
geom1        0.07124    0.04546   1.567 0.123062    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 8.014 on 53 degrees of freedom
Multiple R-squared:  0.07123,   Adjusted R-squared:  0.03619 
F-statistic: 2.032 on 2 and 53 DF,  p-value: 0.1411</code></pre>
</div>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: carData

Attaching package: 'car'

The following object is masked from 'package:purrr':

    some

The following object is masked from 'package:dplyr':

    recode</code></pre>
</div>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vif</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>kidvol_base       geom1 
   5.355027    5.355027 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">sqrt</span>(geom2), <span class="at">y =</span> kidvol_visit2)) <span class="sc">+</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-74-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> txti2, <span class="at">y =</span> kidvol_change)) <span class="sc">+</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-75-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(lbp3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 56 × 34
   Subject_ID geom1  geom2   gabor1 gabor2   gabor3  gabor4 gabor5  glcm1  glcm2
        &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1         52  77.1  5937.  0.460    0.156  7.16e-2 2.11e-1 0.0242  -638. 4.08e5
 2         14 173.  29933. -0.0462  -0.175  8.10e-3 2.13e-3 0.0307   534. 2.85e5
 3         61 181.  32687. -0.0243  -0.167  4.07e-3 5.92e-4 0.0279   858. 7.36e5
 4         28 115.  13289.  0.118   -0.162 -1.91e-2 1.39e-2 0.0261   928. 8.62e5
 5         40  85.1  7244. -0.0852  -0.166  1.42e-2 7.26e-3 0.0276  1792. 3.21e6
 6          7 -59.5  3540.  0.103    0.177  1.82e-2 1.05e-2 0.0313 -1361. 1.85e6
 7          2  54.0  2919. -0.0500  -0.127  6.33e-3 2.50e-3 0.0160  -581. 3.37e5
 8         24  37.8  1426.  0.132   -0.206 -2.73e-2 1.75e-2 0.0424   328. 1.08e5
 9         29  99.0  9804. -0.0967  -0.135  1.30e-2 9.36e-3 0.0182  -836. 6.99e5
10         33  32.5  1058. -0.00752 -0.106  7.96e-4 5.66e-5 0.0112   783. 6.13e5
# ℹ 46 more rows
# ℹ 24 more variables: txti1 &lt;dbl&gt;, txti2 &lt;dbl&gt;, txti3 &lt;dbl&gt;, txti4 &lt;dbl&gt;,
#   txti5 &lt;dbl&gt;, lbp1 &lt;dbl&gt;, lbp2 &lt;dbl&gt;, lbp3 &lt;dbl&gt;, lbp4 &lt;dbl&gt;, lbp5 &lt;dbl&gt;,
#   kidvol_base &lt;dbl&gt;, kidvol_visit2 &lt;dbl&gt;, progression &lt;fct&gt;,
#   kidvol_change &lt;dbl&gt;, fold_number &lt;chr&gt;, kidvol_change_log &lt;dbl&gt;,
#   geom2_sqrt &lt;dbl&gt;, geom2_log &lt;dbl&gt;, gabor2_yeo &lt;dbl&gt;, gabor4_log &lt;dbl&gt;,
#   gabor5_log &lt;dbl&gt;, glcm2_log &lt;dbl&gt;, txti4_log &lt;dbl&gt;, txti5_log &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>data_filtered <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> </span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Subject_ID <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">52</span>, <span class="dv">48</span>, <span class="dv">37</span>, <span class="dv">51</span>))</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_filtered, <span class="fu">aes</span>(<span class="at">x =</span> gabor2, <span class="at">y =</span> kidvol_change)) <span class="sc">+</span></span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-76-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>:::</p>
</section>
</section>
</section>
<section id="bivariate-comparisons" class="level1">
<h1>Bivariate Comparisons</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> </span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(lbp5)) <span class="sc">|&gt;</span> </span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span> </span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pretty_print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Subject_ID</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">glcm1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">glcm2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lbp5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kidvol_base</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kidvol_visit2</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">progression</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kidvol_change</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">fold_number</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">kidvol_change_log</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom2_sqrt</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">geom2_log</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor2_yeo</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor4_log</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">gabor5_log</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">glcm2_log</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti4_log</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">txti5_log</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">48</td>
<td style="text-align: right;">-124.26679</td>
<td style="text-align: right;">15442.2356</td>
<td style="text-align: right;">-0.1630575</td>
<td style="text-align: right;">0.0017660</td>
<td style="text-align: right;">-0.0002880</td>
<td style="text-align: right;">0.0265878</td>
<td style="text-align: right;">0.0000031</td>
<td style="text-align: right;">2545.19598</td>
<td style="text-align: right;">6478022.5520</td>
<td style="text-align: right;">6.4158398</td>
<td style="text-align: right;">7.649503</td>
<td style="text-align: right;">49.077988</td>
<td style="text-align: right;">41.1630005</td>
<td style="text-align: right;">58.51490</td>
<td style="text-align: right;">-0.1337633</td>
<td style="text-align: right;">3.058942</td>
<td style="text-align: right;">-0.4091741</td>
<td style="text-align: right;">0.0178926</td>
<td style="text-align: right;">9.357126</td>
<td style="text-align: right;">290</td>
<td style="text-align: right;">327</td>
<td style="text-align: left;">Slow</td>
<td style="text-align: right;">4.21</td>
<td style="text-align: left;">Fold5</td>
<td style="text-align: right;">1.4374626</td>
<td style="text-align: right;">124.26679</td>
<td style="text-align: right;">9.644862</td>
<td style="text-align: right;">0.1504359</td>
<td style="text-align: right;">-3.627304</td>
<td style="text-align: right;">-12.677678</td>
<td style="text-align: right;">15.683926</td>
<td style="text-align: right;">3.7175398</td>
<td style="text-align: right;">4.069281</td>
</tr>
<tr class="even">
<td style="text-align: right;">29</td>
<td style="text-align: right;">99.01753</td>
<td style="text-align: right;">9804.4722</td>
<td style="text-align: right;">-0.0967480</td>
<td style="text-align: right;">-0.1348293</td>
<td style="text-align: right;">0.0130445</td>
<td style="text-align: right;">0.0093602</td>
<td style="text-align: right;">0.0181789</td>
<td style="text-align: right;">-836.17879</td>
<td style="text-align: right;">699194.9728</td>
<td style="text-align: right;">-0.9002584</td>
<td style="text-align: right;">-2.401562</td>
<td style="text-align: right;">2.162026</td>
<td style="text-align: right;">0.8104653</td>
<td style="text-align: right;">5.76750</td>
<td style="text-align: right;">-0.1323868</td>
<td style="text-align: right;">-1.298322</td>
<td style="text-align: right;">0.1718807</td>
<td style="text-align: right;">0.0175263</td>
<td style="text-align: right;">1.685640</td>
<td style="text-align: right;">640</td>
<td style="text-align: right;">780</td>
<td style="text-align: left;">Slow</td>
<td style="text-align: right;">7.29</td>
<td style="text-align: left;">Fold5</td>
<td style="text-align: right;">1.9865035</td>
<td style="text-align: right;">99.01753</td>
<td style="text-align: right;">9.190594</td>
<td style="text-align: right;">-1.0892682</td>
<td style="text-align: right;">-4.671291</td>
<td style="text-align: right;">-4.007491</td>
<td style="text-align: right;">13.457685</td>
<td style="text-align: right;">-0.2101468</td>
<td style="text-align: right;">1.752239</td>
</tr>
<tr class="odd">
<td style="text-align: right;">49</td>
<td style="text-align: right;">-27.09583</td>
<td style="text-align: right;">734.1840</td>
<td style="text-align: right;">0.0060605</td>
<td style="text-align: right;">-0.0091584</td>
<td style="text-align: right;">-0.0000555</td>
<td style="text-align: right;">0.0000367</td>
<td style="text-align: right;">0.0000839</td>
<td style="text-align: right;">19.99586</td>
<td style="text-align: right;">399.8344</td>
<td style="text-align: right;">-5.8350075</td>
<td style="text-align: right;">6.495434</td>
<td style="text-align: right;">-37.900906</td>
<td style="text-align: right;">34.0473126</td>
<td style="text-align: right;">42.19066</td>
<td style="text-align: right;">1.3632157</td>
<td style="text-align: right;">-1.216510</td>
<td style="text-align: right;">-1.6583658</td>
<td style="text-align: right;">1.8583569</td>
<td style="text-align: right;">1.479897</td>
<td style="text-align: right;">204</td>
<td style="text-align: right;">303</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: right;">16.09</td>
<td style="text-align: left;">Fold2</td>
<td style="text-align: right;">2.7781980</td>
<td style="text-align: right;">27.09583</td>
<td style="text-align: right;">6.598760</td>
<td style="text-align: right;">0.0545237</td>
<td style="text-align: right;">-10.212734</td>
<td style="text-align: right;">-9.385885</td>
<td style="text-align: right;">5.991051</td>
<td style="text-align: right;">3.5277511</td>
<td style="text-align: right;">3.742199</td>
</tr>
<tr class="even">
<td style="text-align: right;">52</td>
<td style="text-align: right;">77.05490</td>
<td style="text-align: right;">5937.4582</td>
<td style="text-align: right;">0.4598489</td>
<td style="text-align: right;">0.1556082</td>
<td style="text-align: right;">0.0715563</td>
<td style="text-align: right;">0.2114611</td>
<td style="text-align: right;">0.0242139</td>
<td style="text-align: right;">-638.44511</td>
<td style="text-align: right;">407612.1602</td>
<td style="text-align: right;">20.2678450</td>
<td style="text-align: right;">9.686888</td>
<td style="text-align: right;">196.332342</td>
<td style="text-align: right;">410.7855426</td>
<td style="text-align: right;">93.83580</td>
<td style="text-align: right;">9.7525713</td>
<td style="text-align: right;">1.162533</td>
<td style="text-align: right;">11.3376835</td>
<td style="text-align: right;">95.1126464</td>
<td style="text-align: right;">1.351482</td>
<td style="text-align: right;">358</td>
<td style="text-align: right;">640</td>
<td style="text-align: left;">Fast</td>
<td style="text-align: right;">26.18</td>
<td style="text-align: left;">Fold4</td>
<td style="text-align: right;">3.2649958</td>
<td style="text-align: right;">77.05490</td>
<td style="text-align: right;">8.689036</td>
<td style="text-align: right;">1.4444240</td>
<td style="text-align: right;">-1.553714</td>
<td style="text-align: right;">-3.720827</td>
<td style="text-align: right;">12.918071</td>
<td style="text-align: right;">6.0180713</td>
<td style="text-align: right;">4.541546</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">-24.20654</td>
<td style="text-align: right;">585.9565</td>
<td style="text-align: right;">-0.0843726</td>
<td style="text-align: right;">-0.0581341</td>
<td style="text-align: right;">0.0049049</td>
<td style="text-align: right;">0.0071187</td>
<td style="text-align: right;">0.0033796</td>
<td style="text-align: right;">-692.94653</td>
<td style="text-align: right;">480174.8902</td>
<td style="text-align: right;">10.6659293</td>
<td style="text-align: right;">-7.819368</td>
<td style="text-align: right;">-83.400826</td>
<td style="text-align: right;">113.7620469</td>
<td style="text-align: right;">61.14252</td>
<td style="text-align: right;">1.0998956</td>
<td style="text-align: right;">-1.088283</td>
<td style="text-align: right;">-1.1969973</td>
<td style="text-align: right;">1.2097704</td>
<td style="text-align: right;">1.184359</td>
<td style="text-align: right;">338</td>
<td style="text-align: right;">362</td>
<td style="text-align: left;">Slow</td>
<td style="text-align: right;">2.30</td>
<td style="text-align: left;">Fold4</td>
<td style="text-align: right;">0.8329091</td>
<td style="text-align: right;">24.20654</td>
<td style="text-align: right;">6.373246</td>
<td style="text-align: right;">-0.3824549</td>
<td style="text-align: right;">-4.945026</td>
<td style="text-align: right;">-5.690004</td>
<td style="text-align: right;">13.081906</td>
<td style="text-align: right;">4.7341090</td>
<td style="text-align: right;">4.113207</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">41.75540</td>
<td style="text-align: right;">1743.5133</td>
<td style="text-align: right;">-0.4340978</td>
<td style="text-align: right;">0.0061235</td>
<td style="text-align: right;">-0.0026582</td>
<td style="text-align: right;">0.1884409</td>
<td style="text-align: right;">0.0000375</td>
<td style="text-align: right;">-416.41953</td>
<td style="text-align: right;">173405.2259</td>
<td style="text-align: right;">-8.0969095</td>
<td style="text-align: right;">10.044533</td>
<td style="text-align: right;">-81.329676</td>
<td style="text-align: right;">65.5599435</td>
<td style="text-align: right;">100.89265</td>
<td style="text-align: right;">-1.7843187</td>
<td style="text-align: right;">1.079779</td>
<td style="text-align: right;">-1.9266699</td>
<td style="text-align: right;">3.1837934</td>
<td style="text-align: right;">1.165923</td>
<td style="text-align: right;">580</td>
<td style="text-align: right;">657</td>
<td style="text-align: left;">Slow</td>
<td style="text-align: right;">4.40</td>
<td style="text-align: left;">Fold2</td>
<td style="text-align: right;">1.4816045</td>
<td style="text-align: right;">41.75540</td>
<td style="text-align: right;">7.463658</td>
<td style="text-align: right;">0.1885341</td>
<td style="text-align: right;">-1.668971</td>
<td style="text-align: right;">-10.191170</td>
<td style="text-align: right;">12.063387</td>
<td style="text-align: right;">4.1829649</td>
<td style="text-align: right;">4.614057</td>
</tr>
</tbody>
</table>


</div>
</div>
<section id="scatterplots" class="level4">
<h4 class="anchored" data-anchor-id="scatterplots">Scatterplots</h4>
<p>Let’s make a function here that will make the scatterplots with the layout that we prefer.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize empty list</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get column names of MRI features</span></span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>features_gabor <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gabor1"</span>, <span class="st">"gabor2"</span>, <span class="st">"gabor3"</span>, <span class="st">"gabor4"</span>, <span class="st">"gabor5"</span>)</span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a>features_geom <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"geom1"</span>, <span class="st">"geom2"</span>)</span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a>features_glcm <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"glcm1"</span>, <span class="st">"glcm2"</span>)</span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a>features_txti <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"txti1"</span>, <span class="st">"txti2"</span>, <span class="st">"txti3"</span>, <span class="st">"txti4"</span>, <span class="st">"txti5"</span>)</span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a>features_lbp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lbp1"</span>, <span class="st">"lbp2"</span>, <span class="st">"lbp3"</span>, <span class="st">"lbp4"</span>, <span class="st">"lbp5"</span>)</span>
<span id="cb153-10"><a href="#cb153-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb153-11"><a href="#cb153-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot scatterplots of each MRI feature against kidney volume change</span></span>
<span id="cb153-12"><a href="#cb153-12" aria-hidden="true" tabindex="-1"></a>plot_features_against_outcome <span class="ot">&lt;-</span> <span class="cf">function</span>(features) {</span>
<span id="cb153-13"><a href="#cb153-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (feature <span class="cf">in</span> features) {</span>
<span id="cb153-14"><a href="#cb153-14" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes_string</span>(<span class="at">x =</span> feature, <span class="at">y =</span> <span class="st">"kidvol_change"</span>)) <span class="sc">+</span></span>
<span id="cb153-15"><a href="#cb153-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb153-16"><a href="#cb153-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb153-17"><a href="#cb153-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(feature),</span>
<span id="cb153-18"><a href="#cb153-18" aria-hidden="true" tabindex="-1"></a>                       <span class="at">x =</span> feature,</span>
<span id="cb153-19"><a href="#cb153-19" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> <span class="st">"Kidney Volume Change (%)"</span>)</span>
<span id="cb153-20"><a href="#cb153-20" aria-hidden="true" tabindex="-1"></a>    plots[[feature]] <span class="ot">&lt;-</span> p</span>
<span id="cb153-21"><a href="#cb153-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb153-22"><a href="#cb153-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-23"><a href="#cb153-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all plots into a grid</span></span>
<span id="cb153-24"><a href="#cb153-24" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> <span class="fu">wrap_plots</span>(plots, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb153-25"><a href="#cb153-25" aria-hidden="true" tabindex="-1"></a>combined_plot</span>
<span id="cb153-26"><a href="#cb153-26" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="gabor-transform-1" class="level3">
<h3 class="anchored" data-anchor-id="gabor-transform-1">Gabor Transform</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot features against total change in kidney volume</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_features_against_outcome</span>(features_gabor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-79-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>It looks like <code>gabor4</code> and <code>gabor5</code> are exponential. We will get the square of those.</p>
</section>
<section id="geom" class="level3">
<h3 class="anchored" data-anchor-id="geom">Geom</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot features against total change in kidney volume</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_features_against_outcome</span>(features_geom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-80-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>Geom 2 looks quadratic.</p>
</section>
<section id="txti-1" class="level3">
<h3 class="anchored" data-anchor-id="txti-1">Txti</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot features against total change in kidney volume</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_features_against_outcome</span>(features_txti)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-81-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p><code>txti4</code> and <code>txti5</code> look quadratic.</p>
</section>
<section id="lbp-1" class="level3">
<h3 class="anchored" data-anchor-id="lbp-1">LBP</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot features against total change in kidney volume</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_features_against_outcome</span>(features_lbp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Project_3_Predictive_Modelling_files/figure-html/unnamed-chunk-82-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="feature-scaling" class="level1">
<h1>Feature Scaling</h1>
<p>Here we will perform the scaling as necessary to place all variables on the same scale.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # Min-max normalization function</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="co"># min_max_norm &lt;- function(x) {</span></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   (x - min(x)) / (max(x) - min(x))</span></span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a><span class="co"># #############I was trying to features scale ecerything at once here.</span></span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a><span class="co"># test &lt;- scale(data$geom1)</span></span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a><span class="co"># testly &lt;- z_norm(data$geom1)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="to-do" class="level1">
<h1>To do</h1>
<p>Split Data Set - technically was supposed to do this right at start… How does k-cross fold come into play though.</p>
<p>Plot against outcome variable with transformed features as necessary (try with method - “lm”, se = F)</p>
<p>Feature Scaling the training set</p>
<p>Then feature scale the test set based on the training set values (mean and SD)</p>
<p>Run the models 1a 1b</p>
<p>Take interactions of only same features, not between different features (so bascially just do like geom1 * geom2)</p>
<p>2a 2b 2c</p>
<p>???</p>
<p>Profit</p>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p><span class="citation" data-cites="fogel1989">(<a href="#ref-fogel1989" role="doc-biblioref">Fogel and Sagi 1989</a>)</span> [<span class="citation" data-cites="kumar2020">Kumar, Satyanarayana, and Prasad (<a href="#ref-kumar2020" role="doc-biblioref">2020</a>)</span>]<span class="citation" data-cites="haralick1973">(<a href="#ref-haralick1973" role="doc-biblioref">Haralick, Shanmugam, and Dinstein 1973</a>)</span> <span class="citation" data-cites="ojala2002">(<a href="#ref-ojala2002" role="doc-biblioref">Ojala, Pietikainen, and Maenpaa 2002</a>)</span></p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-fogel1989" class="csl-entry" role="listitem">
Fogel, I., and D. Sagi. 1989. <span>“Gabor Filters as Texture Discriminator.”</span> <em>Biological Cybernetics</em> 61 (2): 103–13. <a href="https://doi.org/10.1007/bf00204594">https://doi.org/10.1007/bf00204594</a>.
</div>
<div id="ref-haralick1973" class="csl-entry" role="listitem">
Haralick, Robert M., K. Shanmugam, and Its’Hak Dinstein. 1973. <span>“Textural Features for Image Classification.”</span> <em>IEEE Transactions on Systems, Man, and Cybernetics</em> SMC-3 (6): 610–21. <a href="https://doi.org/10.1109/tsmc.1973.4309314">https://doi.org/10.1109/tsmc.1973.4309314</a>.
</div>
<div id="ref-kumar2020" class="csl-entry" role="listitem">
Kumar, D. Maruthi, D. Satyanarayana, and M. N. Giri Prasad. 2020. <span>“An Improved Gabor Wavelet Transform and Rough K-Means Clustering Algorithm for MRI Brain Tumor Image Segmentation.”</span> <em>Multimedia Tools and Applications</em> 80 (5): 6939–57. <a href="https://doi.org/10.1007/s11042-020-09635-6">https://doi.org/10.1007/s11042-020-09635-6</a>.
</div>
<div id="ref-ojala2002" class="csl-entry" role="listitem">
Ojala, T., M. Pietikainen, and T. Maenpaa. 2002. <span>“Multiresolution Gray-Scale and Rotation Invariant Texture Classification with Local Binary Patterns.”</span> <em>IEEE Transactions on Pattern Analysis and Machine Intelligence</em> 24 (7): 971–87. <a href="https://doi.org/10.1109/tpami.2002.1017623">https://doi.org/10.1109/tpami.2002.1017623</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>